(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return COUNTRIES_RECEIVED}),__webpack_require__.d(__webpack_exports__,"p",function(){return PROFILE_RECEIVED}),__webpack_require__.d(__webpack_exports__,"r",function(){return REGIONS_RECEIVED}),__webpack_require__.d(__webpack_exports__,"i",function(){return NEWSLETTER_RECEIVED}),__webpack_require__.d(__webpack_exports__,"y",function(){return SET_EDIT_VIEW}),__webpack_require__.d(__webpack_exports__,"z",function(){return SET_NOTIFICATION_MESSAGE}),__webpack_require__.d(__webpack_exports__,"q",function(){return PROFILE_UPDATED}),__webpack_require__.d(__webpack_exports__,"j",function(){return NEWSLETTER_UPDATED}),__webpack_require__.d(__webpack_exports__,"u",function(){return RESET_NEWSLETTER_INFO}),__webpack_require__.d(__webpack_exports__,"v",function(){return RESET_USER_INFO}),__webpack_require__.d(__webpack_exports__,"c",function(){return DEFAULT_VIEW}),__webpack_require__.d(__webpack_exports__,"B",function(){return USER_DETAILS_VIEW}),__webpack_require__.d(__webpack_exports__,"m",function(){return PASSWORD_VIEW}),__webpack_require__.d(__webpack_exports__,"o",function(){return PAYMENT_CARD_VIEW}),__webpack_require__.d(__webpack_exports__,"a",function(){return ADD_GUEST_VIEW}),__webpack_require__.d(__webpack_exports__,"t",function(){return REGULAR_GUESTS_VIEW}),__webpack_require__.d(__webpack_exports__,"k",function(){return NEWSLETTER_VIEW}),__webpack_require__.d(__webpack_exports__,"x",function(){return ROOM_REQUIREMENTS_VIEW}),__webpack_require__.d(__webpack_exports__,"e",function(){return EXTRAS_PREFERENCES_VIEW}),__webpack_require__.d(__webpack_exports__,"g",function(){return MEMORABLE_WORD_VIEW}),__webpack_require__.d(__webpack_exports__,"l",function(){return PASSWORD_ERROR}),__webpack_require__.d(__webpack_exports__,"h",function(){return NEWSLETTER_ERROR}),__webpack_require__.d(__webpack_exports__,"n",function(){return PAYMENT_CARD_ERROR}),__webpack_require__.d(__webpack_exports__,"A",function(){return USER_DETAILS_ERROR}),__webpack_require__.d(__webpack_exports__,"s",function(){return REGULAR_GUESTS_ERROR}),__webpack_require__.d(__webpack_exports__,"f",function(){return MEMORABLE_WORD_ERROR}),__webpack_require__.d(__webpack_exports__,"w",function(){return ROOM_REQUIREMENTS_ERROR}),__webpack_require__.d(__webpack_exports__,"d",function(){return EXTRAS_PREFERENCES_ERROR}),__webpack_require__.d(__webpack_exports__,"D",function(){return getSettings}),__webpack_require__.d(__webpack_exports__,"E",function(){return updateUserProfile}),__webpack_require__.d(__webpack_exports__,"C",function(){return deleteUserProfile});var mega_code__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(65),_utils_api__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(32),COUNTRIES_RECEIVED="COUNTRIES_RECEIVED",PROFILE_RECEIVED="PROFILE_RECEIVED",REGIONS_RECEIVED="REGIONS_RECEIVED",NEWSLETTER_RECEIVED="NEWSLETTER_RECEIVED",SET_EDIT_VIEW="SET_EDIT_VIEW",SET_NOTIFICATION_MESSAGE="SET_NOTIFICATION_MESSAGE",PROFILE_UPDATED="PROFILE_UPDATED",NEWSLETTER_UPDATED="NEWSLETTER_UPDATED",RESET_NEWSLETTER_INFO="RESET_NEWSLETTER_INFO",RESET_USER_INFO="RESET_USER_INFO",DEFAULT_VIEW=void 0,USER_DETAILS_VIEW="USER_DETAILS_VIEW",PASSWORD_VIEW="PASSWORD_VIEW",PAYMENT_CARD_VIEW="PAYMENT_CARD_VIEW",ADD_GUEST_VIEW="ADD_GUEST_VIEW",REGULAR_GUESTS_VIEW="REGULAR_GUESTS_VIEW",NEWSLETTER_VIEW="NEWSLETTER_VIEW",ROOM_REQUIREMENTS_VIEW="ROOM_REQUIREMENTS_VIEW",EXTRAS_PREFERENCES_VIEW="EXTRAS_PREFERENCES_VIEW",MEMORABLE_WORD_VIEW="MEMORABLE_WORD_VIEW",PASSWORD_ERROR="PASSWORD_ERROR",NEWSLETTER_ERROR="NEWSLETTER_ERROR",PAYMENT_CARD_ERROR="PAYMENT_CARD_ERROR",USER_DETAILS_ERROR="USER_DETAILS_ERROR",REGULAR_GUESTS_ERROR="REGULAR_GUESTS_ERROR",MEMORABLE_WORD_ERROR="MEMORABLE_WORD_ERROR",ROOM_REQUIREMENTS_ERROR="ROOM_REQUIREMENTS_ERROR",EXTRAS_PREFERENCES_ERROR="EXTRAS_PREFERENCES_ERROR",checkForInvalidSession=function(error,config,dispatch){mega_code__WEBPACK_IMPORTED_MODULE_0__.c.isSessionExpired(error,config)&&(dispatch({type:RESET_USER_INFO}),dispatch({type:RESET_NEWSLETTER_INFO}),mega_code__WEBPACK_IMPORTED_MODULE_0__.a.userLogOut(mega_code__WEBPACK_IMPORTED_MODULE_0__.a.LOG_OUT_REASONS.SESSION_EXPIRED))},getSettings=function(email,sessionId,business){return function(dispatch,getState){Object(_utils_api__WEBPACK_IMPORTED_MODULE_1__.f)(email,sessionId,business).then(function(profile){dispatch({type:PROFILE_RECEIVED,profile:profile})}).catch(function(error){checkForInvalidSession(error,mega_code__WEBPACK_IMPORTED_MODULE_0__.b.ACCOUNT.invalidSession,dispatch),dispatch({type:"PROFILE_ERROR",error:error})}),Object(_utils_api__WEBPACK_IMPORTED_MODULE_1__.c)().then(function(countries){dispatch({type:COUNTRIES_RECEIVED,countries:countries})}),getState().application.showEmailPreferences&&(Object(_utils_api__WEBPACK_IMPORTED_MODULE_1__.e)().then(function(regions){dispatch({type:REGIONS_RECEIVED,regions:regions})}),Object(_utils_api__WEBPACK_IMPORTED_MODULE_1__.d)(email).then(function(newsletter){dispatch({type:NEWSLETTER_RECEIVED,newsletter:newsletter})}).catch(function(e){return dispatch({type:NEWSLETTER_ERROR,error:e})}))}},updateUserProfile=function(payload){return function(dispatch){return Object(_utils_api__WEBPACK_IMPORTED_MODULE_1__.j)(payload).catch(function(error){return checkForInvalidSession(error,mega_code__WEBPACK_IMPORTED_MODULE_0__.b.ACCOUNT.invalidSession,dispatch),Promise.reject(error)})}},deleteUserProfile=function(payload){return function(dispatch){return Object(_utils_api__WEBPACK_IMPORTED_MODULE_1__.a)(payload).catch(function(error){return checkForInvalidSession(error,mega_code__WEBPACK_IMPORTED_MODULE_0__.b.DELETE_PROFILE.invalidSession,dispatch),Promise.reject(error)})}}},121:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(0),react_default=__webpack_require__.n(react),Typography=__webpack_require__(3),Button=__webpack_require__(5),DeleteModal_DeleteModal=function(_ref){var title=_ref.title,subtext=_ref.subtext,deleteFunc=_ref.deleteFunc,buttonLabel=_ref.buttonLabel,handleClose=_ref.handleClose;return react_default.a.createElement(react.Fragment,null,react_default.a.createElement(Typography.a,{component:"h5",mt:"1"},title),react_default.a.createElement(Typography.a,{component:"p",size:"s"},subtext),react_default.a.createElement(Button.a,{"data-test":"delete-button",type:"button",color:"primary",className:"mt2 mb2",onClick:deleteFunc,fullWidth:!0},buttonLabel),react_default.a.createElement(Button.a,{"data-test":"cancel-button",type:"button",color:"default",variant:"text",className:"underline",onClick:handleClose},"Cancel changes"))},layout_DeleteModal_DeleteModal=DeleteModal_DeleteModal;DeleteModal_DeleteModal.__docgenInfo={description:"",methods:[],displayName:"DeleteModal"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/layout/DeleteModal/DeleteModal.js"]={name:"DeleteModal",docgenInfo:DeleteModal_DeleteModal.__docgenInfo,path:"src/layout/DeleteModal/DeleteModal.js"}),__webpack_require__.d(__webpack_exports__,"a",function(){return layout_DeleteModal_DeleteModal})},140:function(module){module.exports={name:"account.settings",language:"en",showEmailPreferences:!1}},141:function(module){module.exports={"profile.button.edit":"Edit Profile","profile.title":"Your Profile","profile.edit.title":"Edit Profile","profile.radio.address.home":"Home address","profile.radio.address.business":"Business address","profile.postCodeTitle":"UK postcode","profile.button.findpostcode":"Find new address","profile.button.save":"Save changes","profile.button.cancel":"Cancel changes","profile.form.guesttitle":"Title","profile.form.guesttitle.list":"Mr,Mrs,Ms,Miss,Master,Dr,Lord,Lady,Sir,Col,Prof,Rev","profile.form.firstname":"First name *","profile.form.lastname":"Last name *","profile.form.email":"Email *","profile.form.dialingcode":"Dialing code","profile.form.mobile":"Mobile number","profile.form.telephone":"Phone number","profile.form.postcodeuk":"Postcode (for UK address) *","profile.form.postcode":"Postcode *","profile.form.companyname":"Company name","profile.form.address.line1":"Address line 1 *","profile.form.address.line2":"Address line 2 (optional)","profile.form.address.line3":"Address line 3 (optional)","profile.form.address.line4":"Address line 4 (optional)","profile.error.address.firstline":"Please enter the first line of your address","profile.error.address.max":"Your address cannot exceed 35 characters","profile.error.address.invalid":"Address contains illegal characters","profile.error.name":"Please enter a valid name","profile.error.firstname":"Please enter a valid first name","profile.error.lastname":"Please enter a valid last name","profile.error.mobile":"Please enter a valid mobile number","profile.error.telephone":"Please enter a valid telephone number","profile.error.missingPhoneNumber":"You must enter either a landline or mobile number","profile.error.postcode":"Please enter a valid postcode","profile.error.companyname":"Please enter your company name","profile.placeholder.address":"Select an address","password.button.changepassword":"Change Password","password.preview.password":"Password ************","password.preview.title":"Password","password.currentpassword":"Current Password *","password.newpassword":"New Password *","password.confirmpassword":"Confirm Password *","password.button.update":"Update Password","password.button.cancel":"Cancel password update","password.error.empty":"You need to enter your password","password.error.invalid":"Password is not valid","password.error.same":"Password can't be the same as current password","password.error.different":"Passwords do not match","password.changepassword.title":"Change Password","password.requirements.min":"8 characters minimum","password.requirements.number":"1 number required","password.requirements.capital":"1 capital letter","password.requirements.special":"No special characters","password.error.incorrect":"Existing password doesn't match our records","password.success.message":"Your details have been updated successfully!","guests.notification.text":"Your details have been updated successfully!","guests.form.title":"Title","guests.form.firstname":"First name *","guests.form.lastname":"Last name *","guests.form.email":"Email *","guests.form.passportnumber":"Passport number *","guests.form.telephone":"Phone number *","guests.title":"Regular Guests","guests.noGuests":"If you regularly book for the same people, add their details to My Premier Inn to make booking quicker next time.","guests.form.title.edit":"Edit regular guest","guests.form.title.add":"Add regular guest","guests.button.add":"Add regular guest","guests.button.cancel":"Cancel changes","guests.delete.title":"Delete regular guest","guests.delete.link":"Delete guest","guests.edit.button":"Edit guest","guests.cancel.link":"Cancel changes","guests.notification":"Make sure you have permission to save this guest’s details.","guests.button.save":"Save guest","guests.delete.subtext":"Are you sure you want to delete this guest?","guests.delete.button.label":"Delete guest","guests.placeholder.title":"Title","guests.error.title.empty":"Please select a title","guests.error.email.valid":"Please enter a valid email","guests.error.email.max":"Your email cannot exceed 50 characters","guests.error.passport":"Please enter a valid passport number","guests.error.email.exists":"This guest already exists","update.success.message":"Your details have been updated successfully!","payment.nocard":"Save your card details for quicker, easier booking next time.","payment.button.add":"Add payment card","payment.button.addnew":"Add new card","payment.button.delete":"Delete card","payment.expirydate":"Expiry date","payment.expired":"This card has expired.","payment.title":"Payment","payment.delete.title":"Delete payment method","payment.delete.text":"Are you sure you want to delete this payment method?","payment.delete.button":"Delete payment card","payment.placeholder.month":"Month","payment.placeholder.year":"Year","payment.error.month":"Please select month","payment.error.year":"Please select year","payment.error.past":"Expiry date is in the past","newsletter.title":"Email preferences","newsletter.body":"We would like to send you news and offers. If you would prefer <strong>not</strong> to receive these, please ensure this box is <strong>ticked</strong>.","newsletter.region.1":"I don't want to receive email market about Premier Inn hotels","newsletter.region.2":"I don't want to receive email market about Premier Inn Dubai hotels","newsletter.region.3":"I don't want to receive email market about hub by Premier Inn hotels","newsletter.region.4":"I don't want to receive email market about Premier Inn India hotels","newsletter.region.5":"I don't want to receive email market about Premier Inn Germany hotels","newsletter.button.save":"Save changes","newsletter.success.message":"Your details have been updated successfully!","payment.add.title":"Add payment card","payment.add.name":"Cardholder's name *","payment.add.number":"Card number *","payment.add.date":"Expiry date","payment.add.address.same":"Use personal address","payment.add.address.different":"Use different address","payment.add.prepay":"I want to be able to prepay with my saved card to save time when checking in. Prepayment is not available at all Premier Inn hotels and sometimes you’ll need to pay when you check in.","payment.add.save":"Save card","payment.add.cancel":"Cancel changes","payment.error.entercard":"Please enter a card number","payment.error.invalidcard":"Please enter a valid card number","generic.error":"Oops, something went wrong!","deletecustomer.title":"Delete Profile","deletecustomer.description":"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud","deletecustomer.button":"Delete Profile","deletecustomer.modal.title":"Delete Profile","deletecustomer.modal.description":"Are you sure you want to delete your profile?","deletecustomer.modal.button":"Delete Profile","deletecustomer.modal.cancel":"Cancel changes","roomrequirements.title":"Room Requirements","roomrequirements.title.edit":"Edit room requirements","roomrequirements.button.edit":"Edit room requirements","roomrequirements.description":"You can save your room requirements here so they are pre-selected in your future bookings (these only apply when you are making bookings for yourself)","roomrequirements.button.cancel":"Cancel changes","roomrequirements.button.save":"Save changes","roomrequirements.adults.label":"Adults","roomrequirements.children.label":"Children","roomrequirements.cot.label":"Cot","roomrequirements.roomType.label":"Type","roomrequirements.notification.success":"Your details have been updated successfully!","managepermission.title":"Contact and permissions centre","managepermission.button":"Manage permissions","managepermission.description":"We would like to send you news and offers from Premier Inn and relevant third parties we think would be of interest to you. Here you can review and amend how we contact you.","extraspreferences.title":"Extras Preferences","extraspreferences.description":"You can save your stay preferences here so they are pre-selected in your future bookings (these are applied to all guests in any bookings you make).","extraspreferences.edit.description":"You can save your stay preferences here so they are pre-selected in your future bookings (these are applied to all guests in any bookings you make).","extraspreferences.button.edit":"Edit extras preferences","extraspreferences.edit.title":"Edit extras preferences","extraspreferences.button.cancel":"Cancel changes","extraspreferences.button.save":"Save changes","extraspreferences.meals.nomeals":"No meals","extraspreferences.edit.meals.title":"Meals","extraspreferences.edit.wifi.title":"Wifi","extraspreferences.edit.wifi.description.allow":"Always pre-select the best WiFi option for my stay","extraspreferences.edit.wifi.description.never":"Never pre-select a WiFi option for my stay","extraspreferences.edit.invoice.title":"Invoicing","extraspreferences.edit.invoice.email":"I want to be eco-friendly and receive my invoice by email","extraspreferences.edit.invoice.checkin":"I want to receive a print out of my invoice at check-in","extraspreferences.notification.success":"Your details have been updated successfully!","logged.out.error.heading":"Oops, looks like you are not logged in.","logged.out.error.body":"This page is only accessible to authenticated users, please login first.","memorable.word.title":"Reset your memorable word","memorable.word.body":"Your memorable word is different from your password and can be used to authorise 'Card not present' payments.","memorable.word.placeholder":"New memorable word","memorable.word.error":"This should be a minimum of 8 characters containing at least one number and capital letter and no special characters","memorable.word.submit":"Submit","moveaccount.title":"What is memorable word?","moveaccount.body":"<p>Memorable word is applicable to Business Account customers who have moved their account to Premier Inn Business, so they can manage all their business travel needs with one simple login.</p><p>When you move your account, you'll set up a memorable word which can be used to authorise payments when your card is not present.</p><p>Moving your account is quick and easy - simply click below.</p>","moveaccount.submit":"Move my account","mealoptions.pibreakfast":"Premier Inn Breakfast","mealoptions.continentalbreakfast":"Continental Breakfast","mealoptions.mealdeal":"Meal Deal","mealoptions.nomeals":"No Meals","roomrequirements.type.double":"Double","roomrequirements.type.single":"Single","roomrequirements.type.accessible":"Accessible","roomrequirements.type.family":"Family","roomrequirements.type.twin":"Twin","roomrequirements.cotrequired.true":"Yes","roomrequirements.cotrequired.false":"No"}},142:function(module,__webpack_exports__,__webpack_require__){"use strict";var defineProperty=__webpack_require__(4),react=__webpack_require__(0),react_default=__webpack_require__.n(react),appActions=__webpack_require__(1),session_storage=__webpack_require__(15),Button=__webpack_require__(5),Typography=__webpack_require__(3),BaseStyle=__webpack_require__(6),DeleteModal=__webpack_require__(121),Notification=__webpack_require__(8),config=__webpack_require__(7);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){Object(defineProperty.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var PaymentCard_PaymentCard=function(_ref){var notificationMessage=_ref.app.notificationMessage,setEditView=_ref.setEditView,setNotificationMessage=_ref.setNotificationMessage,dictionary=_ref.dictionary,openModal=_ref.openModal,closeModal=_ref.closeModal,profile=_ref.profile,updateProfileStore=_ref.updateProfileStore,updateProfile=_ref.updateProfile,deleteCard=function(){var payload=_objectSpread({},profile,{paymentPreference:_objectSpread({},profile.paymentPreference,{paymentCard:{}})});updateProfile(payload).then(function(){updateProfileStore(payload),closeModal(),setNotificationMessage(appActions.o)}).catch(function(){setNotificationMessage(appActions.n)})},showEditMode=function(){setEditView(appActions.o),setNotificationMessage(appActions.c)},_profile$paymentPrefe=profile.paymentPreference,_profile$paymentPrefe2=(_profile$paymentPrefe=void 0===_profile$paymentPrefe?{}:_profile$paymentPrefe).paymentCard,_profile$paymentPrefe3=(_profile$paymentPrefe2=void 0===_profile$paymentPrefe2?{}:_profile$paymentPrefe2).cardType,cardType=void 0===_profile$paymentPrefe3?"":_profile$paymentPrefe3,_profile$paymentPrefe4=_profile$paymentPrefe2.cardNumber,cardNumber=void 0===_profile$paymentPrefe4?"":_profile$paymentPrefe4,_profile$paymentPrefe5=_profile$paymentPrefe2.expiryDate,expiryDate=void 0===_profile$paymentPrefe5?"":_profile$paymentPrefe5,_profile$paymentPrefe6=_profile$paymentPrefe2.cardHolderName,cardHolderName=void 0===_profile$paymentPrefe6?"":_profile$paymentPrefe6,splitExpiryDate=expiryDate.split("/"),isCardExpired=new Date("20".concat(splitExpiryDate[1]),splitExpiryDate[0])<new Date,formattedCardNumber="•••• •••• •••• ".concat(cardNumber.replace(/\*/g,""));return react_default.a.createElement("section",{className:"component-container"},notificationMessage===appActions.n&&react_default.a.createElement(Notification.a,{"data-test":"error-notification",priority:2,variant:"error",ariaLive:"polite",show:!0},dictionary["generic.error"]),notificationMessage===appActions.o&&react_default.a.createElement(Notification.a,{"data-test":"success-message",priority:2,variant:"success",ariaLive:"polite",show:!0},dictionary["update.success.message"]),react_default.a.createElement(Typography.a,{component:"h4",className:"pi-color-greyscale-darkest"},dictionary["payment.title"]),isCardExpired&&react_default.a.createElement("div",{"data-test":"error",className:"wb-notification wb-notification__unhousedalert"},react_default.a.createElement("i",{className:"wb-notification-icon wb-icon_disc-info-new"}),react_default.a.createElement("div",{className:"wb-notification-text"},dictionary["payment.expired"])),!!cardType&&react_default.a.createElement(BaseStyle.a,{className:"basic-spacer",component:"div",mb:"3"},react_default.a.createElement("div",{className:"card-layout p2 mt1 border rounded wb-push--bottom"},react_default.a.createElement("div",{className:"right-align bold pb1"},config.l[cardType].name),react_default.a.createElement("div",{className:"right-align"},formattedCardNumber),react_default.a.createElement("div",{className:"clearfix col-12 card-details relative"},react_default.a.createElement("div",{className:"col col-10"},react_default.a.createElement("div",{className:"pi-color-greyscale-dark"},dictionary["payment.expirydate"]),react_default.a.createElement("div",{className:"pb1"},expiryDate),react_default.a.createElement("div",null,cardHolderName)),react_default.a.createElement("div",{className:"col col-2 right-align"},react_default.a.createElement("img",{src:Object(session_storage.a)("environment").domain+config.l[cardType].img,className:"block right absolute bottom-0 right-0",alt:config.l[cardType].name})))),react_default.a.createElement(Button.a,{"data-test":"deleteCard",className:"wb-text-btn--underline block wb-push--bottom",variant:"text",color:"red",onClick:function(){return openModal(react_default.a.createElement(DeleteModal.a,{title:dictionary["payment.delete.title"],subtext:dictionary["payment.delete.text"],deleteFunc:deleteCard,buttonLabel:dictionary["payment.delete.button"],handleClose:closeModal}))}},dictionary["payment.button.delete"]),react_default.a.createElement(Button.a,{id:"edit-card",color:"quaternary",onClick:showEditMode},dictionary["payment.button.addnew"])),!cardType&&react_default.a.createElement(react.Fragment,null,react_default.a.createElement(Typography.a,{mb:"3","data-test":"no-guests-message"},dictionary["payment.nocard"]),react_default.a.createElement(Button.a,{id:"add-card",color:"secondary",fullWidth:!0,onClick:showEditMode},dictionary["payment.button.add"])))},components_PaymentCard_PaymentCard=PaymentCard_PaymentCard;PaymentCard_PaymentCard.__docgenInfo={description:"",methods:[],displayName:"PaymentCard"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PaymentCard/PaymentCard.js"]={name:"PaymentCard",docgenInfo:PaymentCard_PaymentCard.__docgenInfo,path:"src/components/PaymentCard/PaymentCard.js"});var lib=__webpack_require__(28),modalActions=__webpack_require__(40),PaymentCardContainer=Object(lib.connect)(null,function(dispatch){return{openModal:function(content){return dispatch(Object(modalActions.d)(content))},closeModal:function(){return dispatch(Object(modalActions.c)())},updateProfile:function(params){return dispatch(Object(appActions.E)(params))}}})(components_PaymentCard_PaymentCard);__webpack_require__.d(__webpack_exports__,"a",function(){return PaymentCardContainer})},143:function(module,__webpack_exports__,__webpack_require__){"use strict";var objectWithoutProperties=__webpack_require__(14),react=__webpack_require__(0),react_default=__webpack_require__.n(react),classnames=__webpack_require__(16),classnames_default=__webpack_require__.n(classnames),Hyperlink_Hyperlink=function(_ref){var variant=_ref.variant,href=_ref.href,children=_ref.children,className=_ref.className,otherProps=Object(objectWithoutProperties.a)(_ref,["variant","href","children","className"]),classes=classnames_default()({"wb-btn wb-btn--full-width wb-btn--small max-fit":"primary"===variant||"secondary"===variant,"wb-btn--primary":"primary"===variant,"wb-btn--secondary":"secondary"===variant},className);return react_default.a.createElement("a",Object.assign({href:"".concat(href),className:classes},otherProps),children)};Hyperlink_Hyperlink.defaultProps={variant:"regular",href:"#",children:null,className:""};var layout_Hyperlink_Hyperlink=Hyperlink_Hyperlink;Hyperlink_Hyperlink.__docgenInfo={description:"",methods:[],displayName:"Hyperlink",props:{variant:{defaultValue:{value:"'regular'",computed:!1},required:!1},href:{defaultValue:{value:"'#'",computed:!1},required:!1},children:{defaultValue:{value:"null",computed:!1},required:!1},className:{defaultValue:{value:"''",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/layout/Hyperlink/Hyperlink.js"]={name:"Hyperlink",docgenInfo:Hyperlink_Hyperlink.__docgenInfo,path:"src/layout/Hyperlink/Hyperlink.js"}),__webpack_require__.d(__webpack_exports__,"a",function(){return layout_Hyperlink_Hyperlink})},15:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return setItem}),__webpack_require__.d(__webpack_exports__,"a",function(){return getJsonItem});var setItem=function(key,value){return sessionStorage.setItem(key,JSON.stringify(value))},getJsonItem=function(key){try{return JSON.parse(sessionStorage.getItem(key))}catch(e){return null}}},172:function(module,__webpack_exports__,__webpack_require__){"use strict";var fetch_mock__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(251),fetch_mock__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(fetch_mock__WEBPACK_IMPORTED_MODULE_0__),_mocks_profile_json__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(173),_mocks_regions_json__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(392),_mocks_countries_json__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(393),_mocks_newsletterPreferences_json__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(394);__webpack_exports__.a=function(story){return fetch_mock__WEBPACK_IMPORTED_MODULE_0___default.a.reset(),fetch_mock__WEBPACK_IMPORTED_MODULE_0___default.a.get(/^https:\/\/(.+)\/customers\/hotels\/(.+)$/g,_mocks_profile_json__WEBPACK_IMPORTED_MODULE_1__).get(/^https:\/\/(.+)\/marketing\/hotels\/regions$/g,_mocks_regions_json__WEBPACK_IMPORTED_MODULE_2__).get(/^https:\/\/(.+)\/countries$/g,_mocks_countries_json__WEBPACK_IMPORTED_MODULE_3__).get(/^https:\/\/(.+)\/marketing\/hotels\/newsletter\/(.+)$/g,_mocks_newsletterPreferences_json__WEBPACK_IMPORTED_MODULE_4__).catch(),story()}},173:function(module){module.exports={sessionId:"b7o4HMeLxWQn8YzG",contactDetail:{title:"Miss",firstName:"Rachelle",lastName:"Ragasa",email:"some_email@email.com",telephone:"+441234567890",mobile:"+441234567890",nationality:"",passport:{number:"",countryOfIssue:""},carRegistration:"",address:{line1:"120 HOLBORN",line2:"LONDON",line3:"",line4:"",line5:"",postCode:"EC1N 2TD",countryCode:"GB",type:"HOME",companyName:""}},paymentPreference:{electronicInvoiceRequired:!0,paymentCard:{cardType:"VI",cardNumber:"************1111",expiryDate:"06/23",cardHolderName:"Test Card"}},additionalGuests:[{title:"Mr",firstName:"Henry",lastName:"Holland",email:"hello.fresh@mailinator.com",telephone:"1234567890",mobile:"+441234567890",nationality:"GB",carRegistration:""}],bookingPreference:{roomRequirements:{type:"FAM",adults:2,children:1,cotRequired:!1,hotelBrand:"PI"},foodPreference:11,wantSmsConfirmations:!1},companyName:"Whitbread Plc",companyId:"",businessUse:!1,guestHistoryNumber:"G34614535"}},174:function(module,__webpack_exports__,__webpack_require__){"use strict";var regenerator=__webpack_require__(50),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(82),classCallCheck=__webpack_require__(19),createClass=__webpack_require__(20),possibleConstructorReturn=__webpack_require__(22),getPrototypeOf=__webpack_require__(21),assertThisInitialized=__webpack_require__(9),inherits=__webpack_require__(23),react=__webpack_require__(0),react_default=__webpack_require__.n(react),appActions=__webpack_require__(1),objectWithoutProperties=__webpack_require__(14),ComponentToggler_ComponentToggler=function(_ref){var app=_ref.app,viewName=_ref.viewName,View=_ref.view,Edit=_ref.edit,props=Object(objectWithoutProperties.a)(_ref,["app","viewName","view","edit"]);return app.editViewName===viewName?react_default.a.createElement(Edit,Object.assign({},props,{app:app})):react_default.a.createElement(View,Object.assign({},props,{app:app}))},components_ComponentToggler_ComponentToggler=ComponentToggler_ComponentToggler;ComponentToggler_ComponentToggler.__docgenInfo={description:"",methods:[],displayName:"ComponentToggler"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ComponentToggler/ComponentToggler.js"]={name:"ComponentToggler",docgenInfo:ComponentToggler_ComponentToggler.__docgenInfo,path:"src/components/ComponentToggler/ComponentToggler.js"});var lib=__webpack_require__(28),ComponentTogglerContainer=Object(lib.connect)(function(_ref){return{app:_ref.app,countries:_ref.countries,profile:_ref.userProfile.profile,dictionary:_ref.dictionary,application:_ref.application}},function(dispatch){return{setEditView:function(viewName){return dispatch({type:appActions.y,editViewName:viewName})},setNotificationMessage:function(messageName){return dispatch({type:appActions.z,notificationMessage:messageName})},updateProfileStore:function(profile){return dispatch({type:appActions.q,profile:profile})},updateProfile:function(params){return dispatch(Object(appActions.E)(params))}}})(components_ComponentToggler_ComponentToggler),Button=__webpack_require__(5),Notification=__webpack_require__(8),UserProfile_UserProfile=function(_ref){var _ref$profile=_ref.profile,contactDetail=_ref$profile.contactDetail,companyName=_ref$profile.contactDetail.address.companyName,countries=_ref.countries,dictionary=_ref.dictionary,app=_ref.app,setEditView=_ref.setEditView,setNotificationMessage=_ref.setNotificationMessage,renderAddressLines=Object.keys(contactDetail.address).filter(function(key){return/^line/.test(key)&&contactDetail.address[key]}).map(function(line){return react_default.a.createElement("div",{key:line},contactDetail.address[line])}),countryLegend=countries.find(function(country){return country.countryCode===contactDetail.address.countryCode}).countryLegend;return react_default.a.createElement("section",{className:"component-container"},app.notificationMessage===appActions.B&&react_default.a.createElement(Notification.a,{"data-test":"success-notification",priority:2,variant:"success",ariaLive:"polite",show:!0},dictionary["update.success.message"]),react_default.a.createElement("h4",{className:"wb-heading--h4 pi-color-greyscale-darkest"},dictionary["profile.title"]),react_default.a.createElement("address",{className:"basic-spacer"},react_default.a.createElement("div",null,companyName&&react_default.a.createElement(react.Fragment,null,companyName,react_default.a.createElement("br",null)),"".concat(contactDetail.title," ").concat(contactDetail.firstName," ").concat(contactDetail.lastName),react_default.a.createElement("br",null),contactDetail.mobile,react_default.a.createElement("br",null),contactDetail.email,react_default.a.createElement("br",null)),react_default.a.createElement("div",{className:"capitalize"},renderAddressLines,react_default.a.createElement("span",{className:"uppercase"},contactDetail.address.postCode),react_default.a.createElement("br",null),countryLegend)),react_default.a.createElement(Button.a,{id:"edit-profile",color:"quaternary",onClick:function(){setEditView(appActions.B),setNotificationMessage(appActions.c)}},dictionary["profile.button.edit"]))},components_UserProfile_UserProfile=UserProfile_UserProfile;UserProfile_UserProfile.__docgenInfo={description:"",methods:[],displayName:"UserProfile"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/UserProfile/UserProfile.js"]={name:"UserProfile",docgenInfo:UserProfile_UserProfile.__docgenInfo,path:"src/components/UserProfile/UserProfile.js"});var Password_Password=function(_ref){var app=_ref.app,dictionary=_ref.dictionary,setEditView=_ref.setEditView,setNotificationMessage=_ref.setNotificationMessage;return react_default.a.createElement("section",{className:"component-container"},app.notificationMessage===appActions.m&&react_default.a.createElement(Notification.a,{"data-test":"success-message",priority:2,variant:"success",ariaLive:"polite",show:!0},dictionary["password.success.message"]),react_default.a.createElement("h4",{className:"wb-heading--h4 pi-color-greyscale-darkest"},dictionary["password.preview.title"]),react_default.a.createElement("div",{className:"basic-spacer"},dictionary["password.preview.password"]),react_default.a.createElement(Button.a,{id:"change-password",color:"quaternary",onClick:function(){setEditView(appActions.m),setNotificationMessage(appActions.c)}},dictionary["password.button.changepassword"]))},components_Password_Password=Password_Password;Password_Password.__docgenInfo={description:"",methods:[],displayName:"Password"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Password/Password.js"]={name:"Password",docgenInfo:Password_Password.__docgenInfo,path:"src/components/Password/Password.js"});var defineProperty=__webpack_require__(4),dist=__webpack_require__(49),BaseStyle=__webpack_require__(6),Typography=__webpack_require__(3),classnames=__webpack_require__(16),classnames_default=__webpack_require__.n(classnames),Select_Select=function(_ref){_ref.placeholder;var field=_ref.field,sessioncamhide=_ref.sessioncamhide,touched=_ref.touched,error=_ref.error,id=_ref.id,label=_ref.label,children=_ref.children,flagImg=_ref.flagImg,halfWidth=_ref.halfWidth,hideIcon=_ref.hideIcon,hideMessage=_ref.hideMessage,props=Object(objectWithoutProperties.a)(_ref,["placeholder","field","sessioncamhide","touched","error","id","label","children","flagImg","halfWidth","hideIcon","hideMessage"]),showError=error&&touched,showValid=!error&&touched,selectClassNames=classnames_default()({sessioncamhidetext:sessioncamhide,"error-field":showError}),wrapperClassNames=classnames_default()("wb-form-item",{"wb-push-middle--bottom":!halfWidth},{"wb-native-dropdown-offset-flag":flagImg},{"col mr2":halfWidth}),childWrapperClassNames=classnames_default()("wb-form-item__field",{"wb-form-item__field__full":!halfWidth},{"wb-form-item__field__half":halfWidth}),flagStyle={};return flagImg&&(flagStyle.backgroundImage="url(https://www.premierinn.com".concat(flagImg,")")),react_default.a.createElement("div",{className:wrapperClassNames},label&&react_default.a.createElement("label",{className:"wb-strong",htmlFor:id},label),react_default.a.createElement("div",{className:childWrapperClassNames},react_default.a.createElement("select",Object.assign({className:selectClassNames,id:id,label:label},field,props),children),react_default.a.createElement("div",{className:"wb-icon_arrow-down"}),flagImg&&react_default.a.createElement("span",{className:"wb-native-dropdown--flag",style:flagStyle}),!hideIcon&&showError&&react_default.a.createElement("span",{className:"form-item-msg__error-icon wb-icon_disc-info-filled"}),!hideIcon&&showValid&&react_default.a.createElement("span",{className:"form-item-msg__info-icon wb-icon_disc-checked-fill"})),!hideMessage&&showError&&react_default.a.createElement("span",{className:"form-item-msg form-item-msg--error"},error))};Select_Select.defaultProps={placeholder:"",halfWidth:!1,hideIcon:!1,hideMessage:!1};var layout_Select_Select=Select_Select;Select_Select.__docgenInfo={description:"",methods:[],displayName:"Select",props:{placeholder:{defaultValue:{value:"''",computed:!1},required:!1},halfWidth:{defaultValue:{value:"false",computed:!1},required:!1},hideIcon:{defaultValue:{value:"false",computed:!1},required:!1},hideMessage:{defaultValue:{value:"false",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/layout/Select/Select.js"]={name:"Select",docgenInfo:Select_Select.__docgenInfo,path:"src/layout/Select/Select.js"});var Input_Input=function(_ref){var field=_ref.field,sessioncamhide=_ref.sessioncamhide,touched=_ref.touched,error=_ref.error,id=_ref.id,label=_ref.label,mb=_ref.mb,props=Object(objectWithoutProperties.a)(_ref,["field","sessioncamhide","touched","error","id","label","mb"]),showError=error&&touched,showValid=!error&&touched,cssClasses=classnames_default()({sessioncamhidetext:sessioncamhide,"error-field":showError},"wb-dark"),parentCssClasses="wb-form-item ".concat(mb);return react_default.a.createElement("div",{className:parentCssClasses},label&&react_default.a.createElement("label",{className:"wb-strong",htmlFor:id},label),react_default.a.createElement("div",{className:"wb-form-item__field wb-form-item__field__full"},react_default.a.createElement("input",Object.assign({className:cssClasses,id:id,label:label},field,props)),showError&&react_default.a.createElement("span",{className:"form-item-msg__error-icon wb-icon_disc-info-filled"}),showValid&&react_default.a.createElement("span",{className:"form-item-msg__info-icon wb-icon_disc-checked-fill"})),showError&&react_default.a.createElement("span",{className:"form-item-msg form-item-msg--error"},error))};Input_Input.defaultProps={type:"text",mb:"wb-push-middle--bottom",sessioncamhide:!0};var layout_Input_Input=Input_Input;Input_Input.__docgenInfo={description:"",methods:[],displayName:"Input",props:{type:{defaultValue:{value:"'text'",computed:!1},required:!1},mb:{defaultValue:{value:"'wb-push-middle--bottom'",computed:!1},required:!1},sessioncamhide:{defaultValue:{value:"true",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/layout/Input/Input.js"]={name:"Input",docgenInfo:Input_Input.__docgenInfo,path:"src/layout/Input/Input.js"});var matchCountry=function(countryCode){return function(country){return country.countryCode===countryCode}},selectedFlagImage_selectedFlagImage=function(code,countries){return countries.find(matchCountry(code)).flagImg},RadioGroup_RadioGroup=function(_ref){var children=_ref.children;return react_default.a.createElement("div",{className:"wb-form-item fixed-size mb3 wb-form-item--clean max-fit"},react_default.a.createElement("ul",{className:"wb-radio__group"},children))},layout_RadioGroup_RadioGroup=RadioGroup_RadioGroup;RadioGroup_RadioGroup.__docgenInfo={description:"",methods:[],displayName:"RadioGroup"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/layout/RadioGroup/RadioGroup.js"]={name:"RadioGroup",docgenInfo:RadioGroup_RadioGroup.__docgenInfo,path:"src/layout/RadioGroup/RadioGroup.js"});var RadioItem_RadioItem=function(_ref){var label=_ref.label,subLabels=_ref.subLabels,_ref$field=_ref.field,name=_ref$field.name,onBlur=_ref$field.onBlur,onChange=_ref$field.onChange,fieldValue=_ref$field.value,value=_ref.value,id=_ref.id,sessioncamhide=_ref.sessioncamhide,props=Object(objectWithoutProperties.a)(_ref,["label","subLabels","field","value","id","sessioncamhide"]),labels=subLabels.map(function(subLabel){return react_default.a.createElement("span",{key:subLabel,className:"wb-radio__label__inner-info"},subLabel)}),classes=classnames_default()({sessioncamhidetext:sessioncamhide});return react_default.a.createElement("li",{className:"wb-radio__inner"},react_default.a.createElement("label",{htmlFor:id,className:"wb-radio__label"},react_default.a.createElement("input",Object.assign({type:"radio",name:name,id:id,onBlur:onBlur,onChange:onChange,checked:value===fieldValue,value:value,className:classes},props)),react_default.a.createElement("span",{className:"wb-radio__label__inner"},react_default.a.createElement("span",{className:"wb-radio__label__inner__title"},label),labels)))};RadioItem_RadioItem.defaultProps={subLabels:[]};var RadioGroup_RadioItem=RadioItem_RadioItem;RadioItem_RadioItem.__docgenInfo={description:"",methods:[],displayName:"RadioItem",props:{subLabels:{defaultValue:{value:"[]",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/layout/RadioGroup/RadioItem.js"]={name:"RadioItem",docgenInfo:RadioItem_RadioItem.__docgenInfo,path:"src/layout/RadioGroup/RadioItem.js"});var api=__webpack_require__(32),config=__webpack_require__(7),components_AddressForm_AddressForm=function(_Component){function AddressForm(props){var _this;Object(classCallCheck.a)(this,AddressForm),_this=Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(AddressForm).call(this,props));var countryOptions=props.countries.map(function(country){return react_default.a.createElement("option",{label:country.countryLegend,value:country.countryCode,key:country.countryCode},country.countryLegend)});return _this.state={countryOptions:countryOptions,addressList:[],addressListOptions:[],disableSelectDefault:!1},_this.handleAddressChange=_this.handleAddressChange.bind(Object(assertThisInitialized.a)(_this)),_this.handleAddressList=_this.handleAddressList.bind(Object(assertThisInitialized.a)(_this)),_this}return Object(inherits.a)(AddressForm,_Component),Object(createClass.a)(AddressForm,[{key:"handleAddressChange",value:function(event){if("default"!==event.target.value){var setFieldValue=this.props.setFieldValue,address=this.state.addressList[event.target.value];this.setState({disableSelectDefault:!0}),["line1","line2","line3","line4"].forEach(function(field){setFieldValue(field,address[field]?address[field]:"")}),setFieldValue("postCode",address.postcode),setFieldValue("countryCode",address.country),setFieldValue("companyName",address.companyName?address.companyName:""),setFieldValue("type",address.companyName?config.a:config.b)}}},{key:"handleAddressList",value:function(postcode){var _this2=this;Object(api.b)(postcode).then(function(response){_this2.setState({addressList:response,addressListOptions:response.map(function(address,key){return react_default.a.createElement("option",{label:address.label,value:key,key:address.label},address.label)}),disableSelectDefault:!1})})}},{key:"render",value:function(){var _this3=this,_this$props=this.props,dictionary=_this$props.dictionary,_this$props$values=_this$props.values,postCode=_this$props$values.postCode,type=_this$props$values.type,countryCode=_this$props$values.countryCode,line1=_this$props$values.line1,line2=_this$props$values.line2,line3=_this$props$values.line3,line4=_this$props$values.line4,companyName=_this$props$values.companyName,errors=_this$props.errors,touched=_this$props.touched,handleBlur=_this$props.handleBlur,handleChange=_this$props.handleChange,countries=_this$props.countries,_this$state=this.state,countryOptions=_this$state.countryOptions,addressList=_this$state.addressList,addressListOptions=_this$state.addressListOptions,disableSelectDefault=_this$state.disableSelectDefault;return react_default.a.createElement(react.Fragment,null,react_default.a.createElement(Typography.a,{component:"h6",className:"pi-color-greyscale-darkest mt0 mb1"},dictionary["profile.postCodeTitle"]),react_default.a.createElement(layout_Input_Input,{type:"text",name:"postCode",id:"postCode",value:postCode,placeholder:dictionary["profile.form.postcodeuk"],onChange:handleChange,onBlur:handleBlur,error:dictionary[errors.postCode],touched:touched.postCode}),react_default.a.createElement(Button.a,{"data-test":"find-postcode",color:"secondary",onClick:function(){return _this3.handleAddressList(postCode)},className:"wb-push--bottom wb-btn--full-width"},dictionary["profile.button.findpostcode"]),!!addressList.length&&react_default.a.createElement(layout_Select_Select,{name:"addressList",id:"addressList",onBlur:handleBlur,onChange:this.handleAddressChange,sessioncamhide:!0},react_default.a.createElement("option",{key:"default",value:"default",defaultValue:!0,disabled:disableSelectDefault},dictionary["profile.placeholder.address"]),addressListOptions),react_default.a.createElement(layout_RadioGroup_RadioGroup,null,react_default.a.createElement(RadioGroup_RadioItem,{field:{name:"type",value:type,onBlur:handleBlur,onChange:handleChange},label:dictionary["profile.radio.address.home"],name:"type",id:"homeAddress",value:config.b,sessioncamhide:!0}),react_default.a.createElement(RadioGroup_RadioItem,{field:{name:"type",value:type,onBlur:handleBlur,onChange:handleChange},label:dictionary["profile.radio.address.business"],name:"type",id:"businessAddress",value:config.a,sessioncamhide:!0})),type===config.a&&react_default.a.createElement(layout_Input_Input,{type:"text",name:"companyName",id:"companyName",value:companyName,placeholder:dictionary["profile.form.companyname"],onChange:handleChange,onBlur:handleBlur,error:dictionary[errors.companyName],touched:touched.companyName}),react_default.a.createElement(layout_Input_Input,{type:"text",name:"line1",id:"line1",value:line1,placeholder:dictionary["profile.form.address.line1"],onChange:handleChange,onBlur:handleBlur,error:dictionary[errors.line1],touched:touched.line1,required:!0}),react_default.a.createElement(layout_Input_Input,{type:"text",name:"line2",id:"line2",value:line2,placeholder:dictionary["profile.form.address.line2"],onChange:handleChange,onBlur:handleBlur,error:dictionary[errors.line2],touched:touched.line2}),react_default.a.createElement(layout_Input_Input,{type:"text",name:"line3",id:"line3",value:line3,placeholder:dictionary["profile.form.address.line3"],onChange:handleChange,onBlur:handleBlur,error:dictionary[errors.line3],touched:touched.line3}),react_default.a.createElement(layout_Input_Input,{type:"text",name:"line4",id:"line4",value:line4,placeholder:dictionary["profile.form.address.line4"],onChange:handleChange,onBlur:handleBlur,error:dictionary[errors.line4],touched:touched.line4}),react_default.a.createElement(layout_Input_Input,{type:"text",name:"postCode",id:"postCode",value:postCode,placeholder:dictionary["profile.form.postcode"],onChange:handleChange,onBlur:handleBlur,error:dictionary[errors.postCode],touched:touched.postCode}),react_default.a.createElement(layout_Select_Select,{onBlur:handleBlur,onChange:handleChange,value:countryCode,name:"countryCode",id:"countryCode",flagImg:selectedFlagImage_selectedFlagImage(countryCode,countries),touched:touched.countryCode,sessioncamhide:!0},countryOptions))}}]),AddressForm}(react.Component),UserProfileForm_UserProfileForm=function(_ref){var code,profile=_ref.profile,countries=_ref.countries,dictionary=_ref.dictionary,setEditView=_ref.setEditView,handleBlur=_ref.handleBlur,handleChange=_ref.handleChange,handleSubmit=_ref.handleSubmit,touched=_ref.touched,values=_ref.values,errors=_ref.errors,setFieldValue=_ref.setFieldValue,title=values.title,firstName=values.firstName,lastName=values.lastName,email=values.email,dialingCountryCode=values.dialingCountryCode,mobile=values.mobile,telephone=values.telephone,guestTitleOptions=dictionary["profile.form.guesttitle.list"].split(",").map(function(guestTitle){return react_default.a.createElement("option",{key:guestTitle,value:guestTitle},guestTitle)});return react_default.a.createElement("form",{"data-test":"user-profile-form",name:"user-profile-form",onSubmit:handleSubmit},react_default.a.createElement(layout_Select_Select,{onBlur:handleBlur,onChange:handleChange,value:title,name:"title",id:"title",placeholder:dictionary["profile.form.guesttitle"],touched:touched.title},guestTitleOptions),react_default.a.createElement(layout_Input_Input,{onBlur:handleBlur,onChange:handleChange,value:firstName,type:"text",name:"firstName",id:"firstName",placeholder:dictionary["profile.form.firstname"],error:dictionary[errors.firstName],touched:touched.firstName}),react_default.a.createElement(layout_Input_Input,{onBlur:handleBlur,onChange:handleChange,value:lastName,type:"text",name:"lastName",id:"lastName",placeholder:dictionary["profile.form.lastname"],error:dictionary[errors.lastName],touched:touched.lastName}),react_default.a.createElement(layout_Input_Input,{value:email,type:"text",name:"email",id:"email",placeholder:dictionary["profile.form.email"],disabled:"disabled"}),react_default.a.createElement(layout_Select_Select,{onBlur:handleBlur,onChange:handleChange,name:"dialingCountryCode",id:"dialingCountryCode",value:dialingCountryCode,placeholder:dictionary["profile.form.dialingcode"],flagImg:selectedFlagImage_selectedFlagImage(dialingCountryCode,countries),touched:touched.dialingCountryCode},(code=dialingCountryCode,countries.map(function(country){var label=code===country.countryCode?country.dialingCode:"".concat(country.countryLegend," (").concat(country.dialingCode,")");return react_default.a.createElement("option",{label:label,value:country.countryCode,key:country.countryCode},label)}))),react_default.a.createElement(layout_Input_Input,{onBlur:handleBlur,onChange:handleChange,value:mobile,type:"text",name:"mobile",id:"mobile",placeholder:dictionary["profile.form.mobile"],error:dictionary[errors.mobile],touched:touched.mobile}),react_default.a.createElement(layout_Input_Input,{onBlur:handleBlur,onChange:handleChange,value:telephone,type:"text",name:"telephone",id:"telephone",placeholder:dictionary["profile.form.telephone"],error:dictionary[errors.telephone],touched:touched.telephone}),react_default.a.createElement(components_AddressForm_AddressForm,{profile:profile,dictionary:dictionary,countries:countries,values:values,setFieldValue:setFieldValue,errors:errors,touched:touched,handleBlur:handleBlur,handleChange:handleChange}),react_default.a.createElement(Button.a,{"data-test":"save-changes",className:"wb-push--bottom",color:"primary",type:"submit"},dictionary["profile.button.save"]),react_default.a.createElement(Button.a,{"data-test":"closeForm",color:"default",variant:"text",className:"underline block",fullWidth:!0,onClick:function(){return setEditView(appActions.c)}},dictionary["profile.button.cancel"]))},components_UserProfileForm_UserProfileForm=UserProfileForm_UserProfileForm;UserProfileForm_UserProfileForm.__docgenInfo={description:"",methods:[],displayName:"UserProfileForm"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/UserProfileForm/UserProfileForm.js"]={name:"UserProfileForm",docgenInfo:UserProfileForm_UserProfileForm.__docgenInfo,path:"src/components/UserProfileForm/UserProfileForm.js"});var fast_luhn=__webpack_require__(389),fast_luhn_default=__webpack_require__.n(fast_luhn),postcodeUKRegex=/^([Gg][Ii][Rr] 0[Aa]{2})|((([A-Za-z][0-9]{1,2})|(([A-Za-z][A-Ha-hJ-Yj-y][0-9]{1,2})|(([A-Za-z][0-9][A-Za-z])|([A-Za-z][A-Ha-hJ-Yj-y][0-9][A-Za-z]?))))\s?[0-9][A-Za-z]{2})$/,postcodeDERegex=/^\d{4,5}$/,addressRegex=/^[-A-Za-z0-9À-ÖØ-ʒͰ-ͳͶ-ͷͻ-ͽvΑ-Ͽἀ-ῼЀ-ӿễấ,\s']*$/,nameRegex=/^[^:;~0-9]{2,}$/,mobileRegex=/^\+?[\d ]{6,15}$/,passwordRegex=/(?=^.{8,}$)(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?!.*[\s\W]).*$/,emailRegex=/^[a-zA-Z0-9À-ÖØ-ʒͰ-ͳͶ-ͷͻ-ͽvΑ-Ͽἀ-ῼЀ-ӿễấ'_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,companyNameRegex=/^[\dA-Za-zÄÖÜäöüß&'()\- ]{1,40}$/,passportNumberRegex=/^[0-9]+$/,memorableWordRegex=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/,validatePostCode=function(postcode,countryCode){var postCodeValidations={GB:postcodeUKRegex,D:postcodeDERegex};switch(countryCode){case"GB":case"D":return postCodeValidations[countryCode].test(postcode)?void 0:"profile.error.postcode";default:return}},validateAddressLine=function(address){return((!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&!address?"profile.error.address.firstline":address.length>35&&"profile.error.address.max")||!addressRegex.test(address)&&"profile.error.address.invalid"||void 0},validateFirstName=function(name){return!nameRegex.test(name)||name.length>20?"profile.error.firstname":void 0},validateLastName=function(name){return!nameRegex.test(name)||name.length>30?"profile.error.lastname":void 0},validatePhoneNumber=function(phoneNumber,error){return!mobileRegex.test(phoneNumber)&&error||void 0},validateCompanyName=function(companyName){return companyNameRegex.test(companyName)?void 0:"profile.error.companyname"},validationFunctions_validateCardNumber=function(cardNumber){return(cardNumber?(cardNumber.length<12||!fast_luhn_default()(cardNumber.replace(/\s/g,"")))&&"payment.error.invalidcard":"payment.error.entercard")||void 0},validateMemorableWord=function(memorableWord){return memorableWordRegex.test(memorableWord)?void 0:"memorable.word.error"},DEFAULT_COUNTRY={countryCode:"GB",dialingCode:"+44"},matchDialingCode_matchDialingCode=function(mobileNumber,countries,addressCountryCode){if("+"===mobileNumber[0]){var addressCountry=countries.find(matchCountry(addressCountryCode));if(mobileNumber.startsWith(addressCountry.dialingCode))return addressCountry;var matchedCountry={dialingCode:""};return countries.forEach(function(country){mobileNumber.startsWith(country.dialingCode)&&country.dialingCode.length>matchedCountry.dialingCode.length&&(matchedCountry=country)}),matchedCountry.dialingCode.length>0?matchedCountry:DEFAULT_COUNTRY}return DEFAULT_COUNTRY};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){Object(defineProperty.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var UserProfileFormContainer_validateUserProfileForm=function(_ref){var firstName=_ref.firstName,lastName=_ref.lastName,mobile=_ref.mobile,telephone=_ref.telephone,line1=_ref.line1,line2=_ref.line2,line3=_ref.line3,line4=_ref.line4,postCode=_ref.postCode,countryCode=_ref.countryCode,companyName=_ref.companyName,type=_ref.type,errors={};return errors.firstName=validateFirstName(firstName),errors.lastName=validateLastName(lastName),errors.postCode=validatePostCode(postCode,countryCode),errors.line1=validateAddressLine(line1,!0),errors.line2=validateAddressLine(line2,!1),errors.line3=validateAddressLine(line3,!1),errors.line4=validateAddressLine(line4,!1),mobile||telephone?mobile&&!telephone?errors.mobile=validatePhoneNumber(mobile,"profile.error.mobile"):!mobile&&telephone?errors.telephone=validatePhoneNumber(telephone,"profile.error.telephone"):(errors.telephone=validatePhoneNumber(telephone,"profile.error.telephone"),errors.mobile=validatePhoneNumber(mobile,"profile.error.mobile")):(errors.mobile="profile.error.missingPhoneNumber",errors.telephone="profile.error.missingPhoneNumber"),"BUSINESS"===type&&(errors.companyName=validateCompanyName(companyName)),Object.keys(errors).forEach(function(error){void 0===errors[error]&&delete errors[error]}),errors},UserProfileFormContainer_processPhoneNumbers=function(countries,profile){var _profile$contactDetai=profile.contactDetail,telephone=_profile$contactDetai.telephone,mobile=_profile$contactDetai.mobile,countryCode=_profile$contactDetai.address.countryCode,dialingCountryCode="",mobileProcessed="";if(mobile){var matchedDialingCountry=matchDialingCode_matchDialingCode(mobile,countries,countryCode);mobileProcessed=mobile,dialingCountryCode=matchedDialingCountry.countryCode,mobile.startsWith(matchedDialingCountry.dialingCode)&&(mobileProcessed=mobile.replace(matchedDialingCountry.dialingCode,""))}var telephoneProcessed="";if(telephone){var _matchedDialingCountry=matchDialingCode_matchDialingCode(telephone,countries,countryCode);telephoneProcessed=telephone,dialingCountryCode=_matchedDialingCountry.countryCode,telephone.startsWith(_matchedDialingCountry.dialingCode)&&(telephoneProcessed=telephone.replace(_matchedDialingCountry.dialingCode,""))}return{dialingCountryCode:dialingCountryCode,mobile:mobileProcessed,telephone:telephoneProcessed}},UserProfileFormContainer_UserProfileFormContainer=function(_Component){function UserProfileFormContainer(props){var _this;Object(classCallCheck.a)(this,UserProfileFormContainer),(_this=Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(UserProfileFormContainer).call(this,props))).handleSubmit=_this.handleSubmit.bind(Object(assertThisInitialized.a)(_this));var profile=props.profile,countries=props.countries,_processPhoneNumbers=UserProfileFormContainer_processPhoneNumbers(countries,profile),mobile=_processPhoneNumbers.mobile,telephone=_processPhoneNumbers.telephone,dialingCountryCode=_processPhoneNumbers.dialingCountryCode;return _this.mobile=mobile,_this.telephone=telephone,_this.dialingCountryCode=dialingCountryCode,_this}return Object(inherits.a)(UserProfileFormContainer,_Component),Object(createClass.a)(UserProfileFormContainer,[{key:"handleSubmit",value:function(values,actions){var _this$props=this.props,setEditView=_this$props.setEditView,setNotificationMessage=_this$props.setNotificationMessage,updateProfileStore=_this$props.updateProfileStore,updateProfile=_this$props.updateProfile,payload=this.createPayload(values);updateProfile(payload).then(function(){setEditView(appActions.c),setNotificationMessage(appActions.B),actions.setSubmitting(!1),updateProfileStore(payload)}).catch(function(){setNotificationMessage(appActions.A)})}},{key:"createPayload",value:function(values){var title=values.title,firstName=values.firstName,lastName=values.lastName,dialingCountryCode=values.dialingCountryCode,line1=values.line1,line2=values.line2,line3=values.line3,line4=values.line4,type=values.type,postCode=values.postCode,countryCode=values.countryCode,companyName=values.companyName,_this$props2=this.props,profile=_this$props2.profile,dialingCode=_this$props2.countries.find(function(country){return dialingCountryCode===country.countryCode}).dialingCode,mobile="";values.mobile&&(mobile="".concat(dialingCode).concat(values.mobile));var telephone="";return values.telephone&&(telephone="".concat(dialingCode).concat(values.telephone)),_objectSpread({},profile,{contactDetail:_objectSpread({},profile.contactDetail,{title:title,firstName:firstName,lastName:lastName,mobile:mobile,telephone:telephone,address:_objectSpread({},profile.contactDetail.address,{line1:line1,line2:line2,line3:line3,line4:line4,postCode:postCode,countryCode:countryCode,type:type,companyName:type===config.a?companyName:null})})})}},{key:"render",value:function(){var _this$props3=this.props,dictionary=_this$props3.dictionary,profile=_this$props3.profile,setEditView=_this$props3.setEditView,countries=_this$props3.countries,notificationMessage=_this$props3.app.notificationMessage,_profile$contactDetai2=profile.contactDetail,title=_profile$contactDetai2.title,firstName=_profile$contactDetai2.firstName,lastName=_profile$contactDetai2.lastName,email=_profile$contactDetai2.email,_profile$contactDetai3=_profile$contactDetai2.address,line1=_profile$contactDetai3.line1,line2=_profile$contactDetai3.line2,line3=_profile$contactDetai3.line3,line4=_profile$contactDetai3.line4,postCode=_profile$contactDetai3.postCode,countryCode=_profile$contactDetai3.countryCode,type=_profile$contactDetai3.type,companyName=_profile$contactDetai3.companyName,mobile=this.mobile,telephone=this.telephone,dialingCountryCode=this.dialingCountryCode;return react_default.a.createElement(BaseStyle.a,{component:"section",className:"component-container"},notificationMessage===appActions.A&&react_default.a.createElement(Notification.a,{"data-test":"error-notification",priority:2,variant:"error",ariaLive:"polite",show:!0},dictionary["generic.error"]),react_default.a.createElement(Typography.a,{component:"h4",className:"pi-color-greyscale-darkest"},dictionary["profile.edit.title"]),react_default.a.createElement(Typography.a,{component:"h5",className:"regular"},email),react_default.a.createElement(dist.Formik,{"data-test":"user-profile-form-wrapper",onSubmit:this.handleSubmit,initialValues:{title:title,firstName:firstName,lastName:lastName,email:email,dialingCountryCode:dialingCountryCode,mobile:mobile,telephone:telephone,countryCode:countryCode,line1:line1,line2:line2,line3:line3,line4:line4,postCode:postCode,type:type,companyName:companyName,businessAddress:"".concat(type===config.a)},validate:UserProfileFormContainer_validateUserProfileForm,render:function(formikProps){return react_default.a.createElement(components_UserProfileForm_UserProfileForm,Object.assign({},formikProps,{dictionary:dictionary,setEditView:setEditView,profile:profile,countries:countries}))}}))}}]),UserProfileFormContainer}(react.Component),PasswordForm_PasswordForm=function(_ref){var dictionary=_ref.dictionary,errors=_ref.errors,touched=_ref.touched,handleSubmit=_ref.handleSubmit,setEditView=_ref.setEditView,handleChange=_ref.handleChange,handleBlur=_ref.handleBlur;return react_default.a.createElement("form",{name:"password-form",onSubmit:handleSubmit},react_default.a.createElement(layout_Input_Input,{onBlur:handleBlur,onChange:handleChange,type:"password",name:"currentPassword",id:"currentPassword",placeholder:dictionary["password.currentpassword"],error:dictionary[errors.currentPassword],touched:touched.currentPassword}),react_default.a.createElement(layout_Input_Input,{onBlur:handleBlur,onChange:handleChange,type:"password",name:"newPassword",id:"newPassword",placeholder:dictionary["password.newpassword"],error:dictionary[errors.newPassword],touched:touched.newPassword}),react_default.a.createElement(layout_Input_Input,{onBlur:handleBlur,onChange:handleChange,type:"password",name:"confirmPassword",id:"confirmPassword",placeholder:dictionary["password.confirmpassword"],error:dictionary[errors.confirmPassword],touched:touched.confirmPassword}),react_default.a.createElement("ul",null,react_default.a.createElement("li",null,dictionary["password.requirements.min"]),react_default.a.createElement("li",null,dictionary["password.requirements.number"]),react_default.a.createElement("li",null,dictionary["password.requirements.capital"]),react_default.a.createElement("li",null,dictionary["password.requirements.special"])),react_default.a.createElement(Button.a,{className:"wb-push--bottom wb-btn--full-width",id:"save-changed",color:"primary",type:"submit"},dictionary["password.button.update"]),react_default.a.createElement(Button.a,{"data-test":"closeForm",color:"default",variant:"text",className:"underline block",fullWidth:!0,onClick:function(){return setEditView(appActions.c)}},dictionary["password.button.cancel"]))},components_PasswordForm_PasswordForm=PasswordForm_PasswordForm;function PasswordFormContainer_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}PasswordForm_PasswordForm.__docgenInfo={description:"",methods:[],displayName:"PasswordForm"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PasswordForm/PasswordForm.js"]={name:"PasswordForm",docgenInfo:PasswordForm_PasswordForm.__docgenInfo,path:"src/components/PasswordForm/PasswordForm.js"});var PasswordFormContainer_validatePasswordForm=function(values){var _ref,newPassword,currentPassword,errors={};return errors.currentPassword=""===values.currentPassword?"password.error.empty":void 0,errors.newPassword=(newPassword=(_ref=values).newPassword,currentPassword=_ref.currentPassword,(passwordRegex.test(newPassword)?newPassword===currentPassword&&"password.error.same":"password.error.invalid")||void 0),errors.confirmPassword=function(_ref2){var newPassword=_ref2.newPassword,confirmPassword=_ref2.confirmPassword;return(passwordRegex.test(confirmPassword)?""!==newPassword&&""!==confirmPassword&&newPassword!==confirmPassword&&"password.error.different":"password.error.invalid")||void 0}(values),Object.keys(errors).forEach(function(error){void 0===errors[error]&&delete errors[error]}),errors},PasswordFormContainer_PasswordFormContainer=function(_PureComponent){function PasswordFormContainer(props){var _this;return Object(classCallCheck.a)(this,PasswordFormContainer),(_this=Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(PasswordFormContainer).call(this,props))).form=Object(react.createRef)(),_this.handleSubmit=_this.handleSubmit.bind(Object(assertThisInitialized.a)(_this)),_this}return Object(inherits.a)(PasswordFormContainer,_PureComponent),Object(createClass.a)(PasswordFormContainer,[{key:"handleSubmit",value:function(values,actions){var _this$props=this.props,profile=_this$props.profile,setNotificationMessage=_this$props.setNotificationMessage,setEditView=_this$props.setEditView,updateProfile=_this$props.updateProfile,newPassword=values.newPassword;updateProfile(function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?PasswordFormContainer_ownKeys(source,!0).forEach(function(key){Object(defineProperty.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):PasswordFormContainer_ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}({},profile,{password:values.currentPassword,newPassword:newPassword})).then(function(){setNotificationMessage(appActions.m),setEditView(appActions.c),actions.setSubmitting(!1)}).catch(function(_ref){_ref.code===config.f.INCORRECT_PASSWORD?actions.setFieldError("currentPassword","password.error.incorrect"):setNotificationMessage(appActions.l)})}},{key:"render",value:function(){var _this$props2=this.props,setEditView=_this$props2.setEditView,dictionary=_this$props2.dictionary,notificationMessage=_this$props2.app.notificationMessage;return react_default.a.createElement(BaseStyle.a,{component:"section",className:"component-container"},notificationMessage===appActions.l&&react_default.a.createElement(Notification.a,{"data-test":"error-notification",priority:2,variant:"error",ariaLive:"polite",show:!0},dictionary["generic.error"]),react_default.a.createElement(Typography.a,{component:"h4",className:"pi-color-greyscale-darkest"},dictionary["password.changepassword.title"]),react_default.a.createElement(dist.Formik,{"data-test":"password-form-wrapper",ref:this.form,initialValues:{currentPassword:"",newPassword:"",confirmPassword:""},validate:PasswordFormContainer_validatePasswordForm,onSubmit:this.handleSubmit,render:function(formikProps){return react_default.a.createElement(components_PasswordForm_PasswordForm,Object.assign({},formikProps,{"data-test":"password-form",dictionary:dictionary,setEditView:setEditView}))}}))}}]),PasswordFormContainer}(react.PureComponent),PaymentCard=__webpack_require__(142),toConsumableArray=__webpack_require__(83),DeleteModal=__webpack_require__(121);function RegularGuest_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function RegularGuest_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?RegularGuest_ownKeys(source,!0).forEach(function(key){Object(defineProperty.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):RegularGuest_ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var RegularGuests_RegularGuest=function(_Component){function RegularGuest(props){var _this;return Object(classCallCheck.a)(this,RegularGuest),(_this=Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(RegularGuest).call(this,props))).deleteGuest=_this.deleteGuest.bind(Object(assertThisInitialized.a)(_this)),_this}return Object(inherits.a)(RegularGuest,_Component),Object(createClass.a)(RegularGuest,[{key:"deleteGuest",value:function(){var _deleteGuest=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee(){var _this$props,profile,closeModal,setNotificationMessage,updateProfileStore,additionalGuests,index,updateProfile,payload;return regenerator_default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _this$props=this.props,profile=_this$props.profile,closeModal=_this$props.closeModal,setNotificationMessage=_this$props.setNotificationMessage,updateProfileStore=_this$props.updateProfileStore,additionalGuests=_this$props.profile.additionalGuests,index=_this$props.index,updateProfile=_this$props.updateProfile,(payload=RegularGuest_objectSpread({},profile,{additionalGuests:Object(toConsumableArray.a)(additionalGuests)})).additionalGuests.splice(index,1),_context.next=5,updateProfile(payload).then(function(){updateProfileStore(payload),setNotificationMessage(appActions.t)}).catch(function(){setNotificationMessage(appActions.s)});case 5:closeModal();case 6:case"end":return _context.stop()}},_callee,this)}));return function(){return _deleteGuest.apply(this,arguments)}}()},{key:"showEditMode",value:function(i){var _this$props2=this.props,setEditView=_this$props2.setEditView,hideSuccessMessage=_this$props2.hideSuccessMessage;setEditView("".concat(appActions.t,"_").concat(i)),hideSuccessMessage()}},{key:"render",value:function(){var _this2=this,_this$props3=this.props,dictionary=_this$props3.dictionary,title=_this$props3.title,firstName=_this$props3.firstName,lastName=_this$props3.lastName,email=_this$props3.email,index=_this$props3.index,openModal=_this$props3.openModal,closeModal=_this$props3.closeModal;return react_default.a.createElement(BaseStyle.a,{component:"address",mb:"3"},react_default.a.createElement(Typography.a,{component:"span"},"".concat(title," ").concat(firstName," ").concat(lastName)),react_default.a.createElement(Typography.a,{component:"span"},email),react_default.a.createElement(Button.a,{id:"delete-guest-".concat(index),className:"wb-text-btn--underline block mt2 mb2",color:"red",variant:"text",onClick:function(){return openModal(react_default.a.createElement(DeleteModal.a,{title:dictionary["guests.delete.title"],subtext:dictionary["guests.delete.subtext"],deleteFunc:_this2.deleteGuest,buttonLabel:dictionary["guests.delete.button.label"],handleClose:closeModal,cancelLabel:dictionary["guests.cancel.link"]}))}},"".concat(dictionary["guests.delete.link"]," ").concat(index+1)),react_default.a.createElement(Button.a,{"data-test":"edit-guest-".concat(index),color:"quaternary",onClick:function(){return _this2.showEditMode(index)}},"".concat(dictionary["guests.edit.button"]," ").concat(index+1)))}}]),RegularGuest}(react.Component),AddRegularGuest_AddRegularGuest=function(_ref){var dictionary=_ref.dictionary,setEditView=_ref.setEditView,setNotificationMessage=_ref.setNotificationMessage;return react_default.a.createElement(BaseStyle.a,{component:"div"},react_default.a.createElement(Button.a,{id:"add-guest",color:"secondary",fullWidth:!0,onClick:function(){setEditView(appActions.a),setNotificationMessage(appActions.c)}},dictionary["guests.button.add"]))},components_AddRegularGuest_AddRegularGuest=AddRegularGuest_AddRegularGuest;AddRegularGuest_AddRegularGuest.__docgenInfo={description:"",methods:[],displayName:"AddRegularGuest"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/AddRegularGuest/AddRegularGuest.js"]={name:"AddRegularGuest",docgenInfo:AddRegularGuest_AddRegularGuest.__docgenInfo,path:"src/components/AddRegularGuest/AddRegularGuest.js"});var RegularGuestsForm_RegularGuestsForm=function(_ref){var dictionary=_ref.dictionary,countries=_ref.countries,_ref$values=_ref.values,title=_ref$values.title,firstName=_ref$values.firstName,lastName=_ref$values.lastName,nationality=_ref$values.nationality,email=_ref$values.email,dialingCountryCode=_ref$values.dialingCountryCode,mobile=_ref$values.mobile,touched=_ref.touched,errors=_ref.errors,handleBlur=_ref.handleBlur,handleSubmit=_ref.handleSubmit,handleChange=_ref.handleChange,setEditView=_ref.setEditView,passportRequired=_ref.passportRequired,isPassportRequired=_ref.isPassportRequired,disableSelectDefaults=_ref.disableSelectDefaults,guestTitleOptions=dictionary["profile.form.guesttitle.list"].split(",").map(function(guestTitle){return react_default.a.createElement("option",{key:guestTitle,value:guestTitle},guestTitle)});return react_default.a.createElement("form",{"data-test":"regular-guests-form",name:"regular-guests-form",onSubmit:handleSubmit},react_default.a.createElement(layout_Select_Select,{onChange:handleChange,onBlur:handleBlur,value:title,name:"title",id:"title",placeholder:dictionary["guests.form.title"],touched:touched.title,sessioncamhide:!0},react_default.a.createElement("option",{key:"guestTitle",value:"",defaultValue:!0,disabled:disableSelectDefaults.title},dictionary["guests.placeholder.title"]),guestTitleOptions),react_default.a.createElement(layout_Input_Input,{onChange:handleChange,onBlur:handleBlur,value:firstName,name:"firstName",id:"firstName",type:"text",placeholder:dictionary["guests.form.firstname"],error:dictionary[errors.firstName],touched:touched.firstName}),react_default.a.createElement(layout_Input_Input,{onChange:handleChange,onBlur:handleBlur,value:lastName,name:"lastName",id:"lastName",type:"text",placeholder:dictionary["guests.form.lastname"],error:dictionary[errors.lastName],touched:touched.lastName}),react_default.a.createElement(layout_Input_Input,{onChange:handleChange,onBlur:handleBlur,value:email,type:"text",name:"email",id:"email",placeholder:dictionary["guests.form.email"],error:dictionary[errors.email],touched:touched.email}),react_default.a.createElement(layout_Select_Select,{onChange:function(e){isPassportRequired(e),handleChange(e)},onBlur:handleBlur,name:"nationality",id:"nationality",value:nationality,touched:touched.nationality,flagImg:selectedFlagImage_selectedFlagImage(nationality,countries),sessioncamhide:!0},function(countries){return countries.map(function(country){return react_default.a.createElement("option",{label:country.countryLegend,value:country.countryCode,key:country.countryCode},country.countryLegend)})}(countries)),passportRequired&&react_default.a.createElement(layout_Input_Input,{onChange:handleChange,onBlur:handleBlur,name:"passportNumber",type:"text",id:"passportNumber",placeholder:dictionary["guests.form.passportnumber"],touched:touched.passportNumber,error:dictionary[errors.passportNumber]}),react_default.a.createElement(layout_Select_Select,{onChange:handleChange,onBlur:handleBlur,value:dialingCountryCode,name:"dialingCountryCode",id:"dialingCountryCode",flagImg:selectedFlagImage_selectedFlagImage(dialingCountryCode,countries),touched:touched.dialingCountryCode,sessioncamhide:!0},function(code,countries){return countries.map(function(country){var label=code===country.countryCode?country.dialingCode:"".concat(country.countryLegend," (").concat(country.dialingCode,")");return react_default.a.createElement("option",{label:label,value:country.countryCode,key:country.countryCode},label)})}(dialingCountryCode,countries)),react_default.a.createElement(layout_Input_Input,{onChange:handleChange,onBlur:handleBlur,value:mobile,name:"mobile",id:"mobile",type:"text",placeholder:dictionary["guests.form.telephone"],error:dictionary[errors.mobile],touched:touched.mobile}),react_default.a.createElement(Button.a,{className:"mb1",id:"save-changed",color:"primary",type:"submit",fullWidth:!0},dictionary["guests.button.save"]),react_default.a.createElement(Button.a,{"data-test":"cancel-add-guest",color:"default",variant:"text",className:"underline block mb1",fullWidth:!0,onClick:function(){return setEditView(appActions.c)}},dictionary["guests.button.cancel"]))},components_RegularGuestsForm_RegularGuestsForm=RegularGuestsForm_RegularGuestsForm;function RegularGuestsFormContainer_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function RegularGuestsFormContainer_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?RegularGuestsFormContainer_ownKeys(source,!0).forEach(function(key){Object(defineProperty.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):RegularGuestsFormContainer_ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}RegularGuestsForm_RegularGuestsForm.__docgenInfo={description:"",methods:[],displayName:"RegularGuestsForm"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/RegularGuestsForm/RegularGuestsForm.js"]={name:"RegularGuestsForm",docgenInfo:RegularGuestsForm_RegularGuestsForm.__docgenInfo,path:"src/components/RegularGuestsForm/RegularGuestsForm.js"});var RegularGuestsForm_RegularGuestsFormContainer=function(_Component){function RegularGuestsFormContainer(props){var _this;Object(classCallCheck.a)(this,RegularGuestsFormContainer),(_this=Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(RegularGuestsFormContainer).call(this,props))).form=Object(react.createRef)();var _this$props=_this.props,_this$props$mobile=_this$props.mobile,mobile=void 0===_this$props$mobile?"":_this$props$mobile,_this$props$nationali=_this$props.nationality,nationality=void 0===_this$props$nationali?config.g:_this$props$nationali,countries=_this$props.countries,matchedDialingCountry=matchDialingCode_matchDialingCode(mobile,countries,nationality);return _this.state={disableSelectDefaults:{title:!1},passportRequired:countries.find(matchCountry(nationality)).passportRequired,mobile:mobile,dialingCountryCode:matchedDialingCountry.countryCode},mobile.startsWith(matchedDialingCountry.dialingCode)&&(_this.state.mobile=mobile.replace(matchedDialingCountry.dialingCode,"")),_this.handleSubmit=_this.handleSubmit.bind(Object(assertThisInitialized.a)(_this)),_this.validateTitleWrapper=_this.validateTitleWrapper.bind(Object(assertThisInitialized.a)(_this)),_this.validateEmailWrapper=_this.validateEmailWrapper.bind(Object(assertThisInitialized.a)(_this)),_this.isPassportRequired=_this.isPassportRequired.bind(Object(assertThisInitialized.a)(_this)),_this.validateRegularGuestsForm=_this.validateRegularGuestsForm.bind(Object(assertThisInitialized.a)(_this)),_this}return Object(inherits.a)(RegularGuestsFormContainer,_Component),Object(createClass.a)(RegularGuestsFormContainer,[{key:"handleSubmit",value:function(values,actions){var _this$props2=this.props,setNotificationMessage=_this$props2.setNotificationMessage,updateProfileStore=_this$props2.updateProfileStore,setEditView=_this$props2.setEditView,updateProfile=_this$props2.updateProfile,payload=this.createPayload(values);updateProfile(payload).then(function(){setNotificationMessage(appActions.t),actions.setSubmitting(!1),updateProfileStore(payload),setEditView(appActions.c)}).catch(function(){setNotificationMessage(appActions.s)})}},{key:"createPayload",value:function(_ref){var title=_ref.title,firstName=_ref.firstName,lastName=_ref.lastName,email=_ref.email,passportNumber=_ref.passportNumber,nationality=_ref.nationality,dialingCountryCode=_ref.dialingCountryCode,mobileNumber=_ref.mobile,_this$props3=this.props,profile=_this$props3.profile,countries=_this$props3.countries,index=_this$props3.index,existingEmail=_this$props3.email,_profile$additionalGu=profile.additionalGuests,additionalGuests=void 0===_profile$additionalGu?[]:_profile$additionalGu,dialingCode=countries.find(function(country){return dialingCountryCode===country.countryCode}).dialingCode,guestDetails={title:title,firstName:firstName,lastName:lastName,email:email,passportNumber:passportNumber,nationality:nationality,mobile:"".concat(dialingCode).concat(mobileNumber)};return existingEmail?additionalGuests.splice(index,1,guestDetails):additionalGuests.push(guestDetails),RegularGuestsFormContainer_objectSpread({},profile,{additionalGuests:additionalGuests})}},{key:"isPassportRequired",value:function(e){var value=e.target.value,countries=this.props.countries;this.setState({passportRequired:countries.find(matchCountry(value)).passportRequired})}},{key:"validateEmailWrapper",value:function(email){var _this$props$profile$a=this.props.profile.additionalGuests;return function(email){var guestsEmails=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],checkExistingEmail=arguments.length>2?arguments[2]:void 0;return(emailRegex.test(email)?email.length>50&&"guests.error.email.max":"guests.error.email.valid")||checkExistingEmail&&guestsEmails.length&&guestsEmails.includes(email)&&"guests.error.email.exists"||void 0}(email,(void 0===_this$props$profile$a?[]:_this$props$profile$a).map(function(guest){return guest.email}),this.form.current.initialValues.email!==email)}},{key:"validateTitleWrapper",value:function(title){var disableSelectDefaults=this.state.disableSelectDefaults,result=function(title){return""===title?"guests.error.title.empty":void 0}(title);return this.setState({disableSelectDefaults:RegularGuestsFormContainer_objectSpread({},disableSelectDefaults,{title:!!title})}),result}},{key:"validateRegularGuestsForm",value:function(_ref2){var title=_ref2.title,firstName=_ref2.firstName,lastName=_ref2.lastName,email=_ref2.email,passportNumber=_ref2.passportNumber,mobile=_ref2.mobile,errors={},passportRequired=this.state.passportRequired;return errors.title=this.validateTitleWrapper(title),errors.firstName=validateFirstName(firstName),errors.lastName=validateLastName(lastName),errors.email=this.validateEmailWrapper(email),errors.mobile=validatePhoneNumber(mobile,"profile.error.telephone"),passportRequired&&(errors.passportNumber=function(passportNumber){return passportNumberRegex.test(passportNumber)?void 0:"guests.error.passport"}(passportNumber)),Object.keys(errors).forEach(function(error){void 0===errors[error]&&delete errors[error]}),errors}},{key:"render",value:function(){var _this2=this,_this$props4=this.props,editViewName=_this$props4.app.editViewName,dictionary=_this$props4.dictionary,countries=_this$props4.countries,_this$props4$title=_this$props4.title,title=void 0===_this$props4$title?"":_this$props4$title,_this$props4$firstNam=_this$props4.firstName,firstName=void 0===_this$props4$firstNam?"":_this$props4$firstNam,_this$props4$lastName=_this$props4.lastName,lastName=void 0===_this$props4$lastName?"":_this$props4$lastName,_this$props4$email=_this$props4.email,email=void 0===_this$props4$email?"":_this$props4$email,_this$props4$national=_this$props4.nationality,nationality=void 0===_this$props4$national?config.g:_this$props4$national,_this$props4$passport=_this$props4.passportNumber,passportNumber=void 0===_this$props4$passport?"":_this$props4$passport,index=_this$props4.index,setEditView=_this$props4.setEditView,_this$state=this.state,mobile=_this$state.mobile,dialingCountryCode=_this$state.dialingCountryCode,passportRequired=_this$state.passportRequired,disableSelectDefaults=_this$state.disableSelectDefaults;return react_default.a.createElement(react.Fragment,null,react_default.a.createElement(BaseStyle.a,{component:"div"},editViewName==="REGULAR_GUESTS_VIEW_".concat(index)&&react_default.a.createElement(Typography.a,{component:"h4",className:"pi-color-greyscale-darkest"},dictionary["guests.form.title.edit"]),"ADD_GUEST_VIEW"===editViewName&&react_default.a.createElement(Typography.a,{component:"h4",className:"pi-color-greyscale-darkest"},dictionary["guests.form.title.add"]),react_default.a.createElement(Notification.a,{priority:3,variant:"info",ariaLive:"off",show:!0,className:"mb2"},dictionary["guests.notification"])),react_default.a.createElement(dist.Formik,{"data-test":"regular-guests-form-wrapper",onSubmit:this.handleSubmit,ref:this.form,initialValues:{title:title,firstName:firstName,lastName:lastName,email:email,nationality:nationality,passportNumber:passportNumber,dialingCountryCode:dialingCountryCode,mobile:mobile},validate:this.validateRegularGuestsForm,render:function(formikProps){return react_default.a.createElement(components_RegularGuestsForm_RegularGuestsForm,Object.assign({},formikProps,{dictionary:dictionary,countries:countries,setEditView:setEditView,passportRequired:passportRequired,isPassportRequired:_this2.isPassportRequired,disableSelectDefaults:disableSelectDefaults}))}}))}}]),RegularGuestsFormContainer}(react.Component),RegularGuests_RegularGuests=function(_ref){var _ref$profile$addition=_ref.profile.additionalGuests,additionalGuests=void 0===_ref$profile$addition?[]:_ref$profile$addition,dictionary=_ref.dictionary,notificationMessage=_ref.app.notificationMessage,openModal=_ref.openModal,closeModal=_ref.closeModal,setEditView=_ref.setEditView,hideSuccessMessage=_ref.hideSuccessMessage,userHasGuests=additionalGuests&&additionalGuests.length;return react_default.a.createElement("section",{className:"component-container"},notificationMessage===appActions.s&&react_default.a.createElement(Notification.a,{"data-test":"error-notification",priority:2,variant:"error",ariaLive:"polite",show:!0},dictionary["generic.error"]),notificationMessage===appActions.t&&react_default.a.createElement(Notification.a,{"data-test":"success-message",priority:2,variant:"success",ariaLive:"polite",show:!0},dictionary["guests.notification.text"]),react_default.a.createElement(Typography.a,{component:"h4",className:"pi-color-greyscale-darkest"},dictionary["guests.title"]),!userHasGuests&&react_default.a.createElement(Typography.a,{mb:"3","data-test":"no-guests-message"},dictionary["guests.noGuests"]),!!userHasGuests&&additionalGuests.map(function(guest,i){return react_default.a.createElement(ComponentTogglerContainer,Object.assign({key:guest.email,viewName:"".concat(appActions.t,"_").concat(i),view:RegularGuests_RegularGuest,edit:RegularGuestsForm_RegularGuestsFormContainer},guest,{index:i,setEditView:setEditView,hideSuccessMessage:hideSuccessMessage,openModal:openModal,closeModal:closeModal}))}),additionalGuests.length<6&&react_default.a.createElement(ComponentTogglerContainer,{viewName:appActions.a,view:components_AddRegularGuest_AddRegularGuest,edit:RegularGuestsForm_RegularGuestsFormContainer}))},components_RegularGuests_RegularGuests=RegularGuests_RegularGuests;RegularGuests_RegularGuests.__docgenInfo={description:"",methods:[],displayName:"RegularGuests"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/RegularGuests/RegularGuests.js"]={name:"RegularGuests",docgenInfo:RegularGuests_RegularGuests.__docgenInfo,path:"src/components/RegularGuests/RegularGuests.js"});var modalActions=__webpack_require__(40),RegularGuestsContainer=Object(lib.connect)(function(_ref){return{dictionary:_ref.dictionary,profile:_ref.userProfile.profile,app:_ref.app}},function(dispatch){return{setEditView:function(viewName){return dispatch({type:appActions.y,editViewName:viewName})},toggleEditView:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return dispatch({type:appActions.y,editViewName:"".concat(appActions.t,"_").concat(i)})},hideSuccessMessage:function(){return dispatch({type:appActions.z,notificationMessage:appActions.c})},openModal:function(content){return dispatch(Object(modalActions.d)(content))},closeModal:function(){return dispatch(Object(modalActions.c)())}}})(components_RegularGuests_RegularGuests),components_Newsletter_Newsletter=function(_Component){function Newsletter(props){var _this;Object(classCallCheck.a)(this,Newsletter),_this=Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(Newsletter).call(this,props));var regionSubscriptions=props.newsletter.regionSubscriptions,regionsSubscribed=regionSubscriptions.reduce(function(rSubscribed,region){return region.subscribed&&rSubscribed.push(+region.regionId),rSubscribed},[]);return _this.state={regionSubscriptions:regionSubscriptions,regionsSubscribed:regionsSubscribed},_this.handleNewsletterSubmit=_this.handleNewsletterSubmit.bind(Object(assertThisInitialized.a)(_this)),_this.handleCheckboxChange=_this.handleCheckboxChange.bind(Object(assertThisInitialized.a)(_this)),_this}return Object(inherits.a)(Newsletter,_Component),Object(createClass.a)(Newsletter,[{key:"handleCheckboxChange",value:function(e){var regionSubscriptions=this.state.regionSubscriptions,subscribed=!e.target.checked,regionId=+e.target.attributes.region.value,index=regionSubscriptions.findIndex(function(i){return+i.regionId===regionId});regionSubscriptions[index]={regionId:regionId,subscribed:subscribed},this.setState({regionSubscriptions:regionSubscriptions})}},{key:"handleNewsletterSubmit",value:function(e){e.preventDefault();var _this$props=this.props,_this$props$contactDe=_this$props.contactDetails,emailAddress=_this$props$contactDe.email,countryCodeFromProfile=_this$props$contactDe.address.countryCode,firstNameFromProfile=_this$props$contactDe.firstName,lastNameFromProfile=_this$props$contactDe.lastName,_this$props$newslette=_this$props.newsletter,_this$props$newslette2=_this$props$newslette.countryCode,countryCode=void 0===_this$props$newslette2?countryCodeFromProfile:_this$props$newslette2,_this$props$newslette3=_this$props$newslette.firstName,firstName=void 0===_this$props$newslette3?firstNameFromProfile:_this$props$newslette3,_this$props$newslette4=_this$props$newslette.lastName,lastName=void 0===_this$props$newslette4?lastNameFromProfile:_this$props$newslette4,sessionId=_this$props$newslette.sessionId,updateNewsletterStore=_this$props.updateNewsletterStore,setNotificationMessage=_this$props.setNotificationMessage,payload={emailAddress:emailAddress,regionSubscriptions:this.state.regionSubscriptions,sessionId:sessionId,firstName:firstName,lastName:lastName,countryCode:countryCode};Object(api.i)(payload).then(function(){setNotificationMessage(appActions.k),updateNewsletterStore(payload)}).catch(function(){setNotificationMessage(appActions.h)})}},{key:"render",value:function(){var _this2=this,_this$props2=this.props,notificationMessage=_this$props2.app.notificationMessage,dictionary=_this$props2.dictionary,regions=_this$props2.regions,regionsSubscribed=this.state.regionsSubscribed,newsletterOptions=regions.filter(function(region){var currentId=+region.id;return config.j.includes(currentId)}).map(function(region){var currentId=+region.id,regionIdSelector="newsletter-region-".concat(currentId);return react_default.a.createElement(BaseStyle.a,{key:region.id,component:"div","data-test":regionIdSelector,className:"wb-checkbox wb-checkbox__white mb2"},react_default.a.createElement("input",{id:regionIdSelector,name:regionIdSelector,region:currentId,type:"checkbox",defaultChecked:!regionsSubscribed.includes(currentId),onChange:_this2.handleCheckboxChange}),react_default.a.createElement("label",{htmlFor:regionIdSelector,className:"font-size--base"},dictionary["newsletter.region.".concat(currentId)]))});return react_default.a.createElement(BaseStyle.a,{"data-test":"newsletter-component",component:"section",className:"component-container"},notificationMessage===appActions.h&&react_default.a.createElement(Notification.a,{"data-test":"error-notification",priority:2,variant:"error",ariaLive:"polite",show:!0},dictionary["generic.error"]),notificationMessage===appActions.k&&react_default.a.createElement(Notification.a,{"data-test":"success-message",priority:2,variant:"success",ariaLive:"polite",show:!0},dictionary["update.success.message"]),react_default.a.createElement(Typography.a,{component:"h4",className:"pi-color-greyscale-darkest"},dictionary["newsletter.title"]),react_default.a.createElement(Typography.a,{mb:"2",dangerouslySetInnerHTML:{__html:dictionary["newsletter.body"]}}),react_default.a.createElement("form",{name:"newsletter-form",onSubmit:this.handleNewsletterSubmit},react_default.a.createElement(BaseStyle.a,{component:"section",mb:"3"},newsletterOptions),react_default.a.createElement(Button.a,{"data-test":"update-newsletter",color:"secondary",mt:"2",type:"submit",fullWidth:!0},dictionary["newsletter.button.save"])))}}]),Newsletter}(react.Component),NewsletterContainer=Object(lib.connect)(function(_ref){return{app:_ref.app,dictionary:_ref.dictionary,contactDetails:_ref.userProfile.profile.contactDetail,regions:_ref.regions,newsletter:_ref.newsletter,application:_ref.application}},function(dispatch){return{setNotificationMessage:function(messageName){return dispatch({type:appActions.z,notificationMessage:messageName})},updateNewsletterStore:function(newsletter){return dispatch({type:appActions.j,newsletter:newsletter})}}})(components_Newsletter_Newsletter),Modal_Modal=function(_ref){var content=_ref.content,handleClose=_ref.handleClose;return react_default.a.createElement(BaseStyle.a,{component:"div",className:"pt3 wb-modal"},react_default.a.createElement(BaseStyle.a,{component:"div",className:"wb-modal-content"},react_default.a.createElement(Button.a,{"data-test":"close-modal",type:"button",color:"default",onClick:handleClose,className:"wb-modal-content-close wb-btn wb-button-reset wb-icon_cross"}),content))};Modal_Modal.defaultProps={handleClose:function(){}};var layout_Modal_Modal=Modal_Modal;Modal_Modal.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{handleClose:{defaultValue:{value:"noop",computed:!0},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/layout/Modal/Modal.js"]={name:"Modal",docgenInfo:Modal_Modal.__docgenInfo,path:"src/layout/Modal/Modal.js"});var session_storage=__webpack_require__(15),Img_Img=function(_ref){var src=_ref.src,label=_ref.label,className=_ref.className;return react_default.a.createElement("img",{className:className,src:src,alt:label,"aria-label":label})},layout_Img_Img=Img_Img;Img_Img.__docgenInfo={description:"",methods:[],displayName:"Img"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/layout/Img/Img.js"]={name:"Img",docgenInfo:Img_Img.__docgenInfo,path:"src/layout/Img/Img.js"});var Checkbox_Checkbox=function(_ref){var label=_ref.label,field=_ref.field,id=_ref.id,sessioncamhide=_ref.sessioncamhide,props=Object(objectWithoutProperties.a)(_ref,["label","field","id","sessioncamhide"]),classes=classnames_default()({sessioncamhidetext:sessioncamhide});return react_default.a.createElement("div",{className:"wb-form-item wb-checkbox wb-checkbox__white wb-form-item--clean mb3"},react_default.a.createElement("input",Object.assign({type:"checkbox",id:id,className:classes},field,props)),react_default.a.createElement("label",{htmlFor:id},label))},layout_Checkbox_Checkbox=Checkbox_Checkbox;Checkbox_Checkbox.__docgenInfo={description:"",methods:[],displayName:"Checkbox"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/layout/Checkbox/Checkbox.js"]={name:"Checkbox",docgenInfo:Checkbox_Checkbox.__docgenInfo,path:"src/layout/Checkbox/Checkbox.js"});__webpack_require__(705);var CardNumberInput_CardNumberInput_CardNumberInput=function(_ref){var field=_ref.field,sessioncamhide=_ref.sessioncamhide,touched=_ref.touched,error=_ref.error,label=_ref.label,_ref$card=_ref.card,src=_ref$card.src,alt=_ref$card.alt,props=Object(objectWithoutProperties.a)(_ref,["field","sessioncamhide","touched","error","label","card"]),showError=error&&touched,showValid=!error&&touched,cssClasses=classnames_default()({sessioncamhidetext:sessioncamhide,"error-field":showError});return react_default.a.createElement("div",{className:"wb-form-item mb2"},label&&react_default.a.createElement("label",{className:"wb-strong",htmlFor:field.name},label),react_default.a.createElement("div",{className:"wb-form-item__field wb-form-item__field__full"},react_default.a.createElement("input",Object.assign({type:"tel",className:cssClasses,label:label},field,props)),src&&react_default.a.createElement(layout_Img_Img,{className:"card-logo mr1",src:src,label:alt}),showError&&react_default.a.createElement("span",{className:"form-item-msg__error-icon wb-icon_disc-info-filled"}),showValid&&react_default.a.createElement("span",{className:"form-item-msg__info-icon wb-icon_disc-checked-fill"})),showError&&react_default.a.createElement("span",{className:"form-item-msg form-item-msg--error"},error))};CardNumberInput_CardNumberInput_CardNumberInput.defaultProps={card:{}};var layout_CardNumberInput_CardNumberInput=CardNumberInput_CardNumberInput_CardNumberInput;CardNumberInput_CardNumberInput_CardNumberInput.__docgenInfo={description:"",methods:[],displayName:"CardNumberInput",props:{card:{defaultValue:{value:"{}",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/layout/CardNumberInput/CardNumberInput.js"]={name:"CardNumberInput",docgenInfo:CardNumberInput_CardNumberInput_CardNumberInput.__docgenInfo,path:"src/layout/CardNumberInput/CardNumberInput.js"});var PaymentCardForm_PaymentCardForm=function(_ref){var dictionary=_ref.dictionary,countries=_ref.countries,paymentCards=_ref.paymentCards,handleCardNumberBlur=_ref.handleCardNumberBlur,handleSubmit=_ref.handleSubmit,setFieldTouched=_ref.setFieldTouched,setFieldError=_ref.setFieldError,setFieldValue=_ref.setFieldValue,handleBlur=_ref.handleBlur,handleChange=_ref.handleChange,cancel=_ref.cancel,errors=_ref.errors,touched=_ref.touched,values=_ref.values,cardType=_ref.cardType,domain=_ref.domain,postCode=_ref.postCode,disableSelectDefaults=_ref.disableSelectDefaults,showExpiryDateError=_ref.showExpiryDateError,months="01,02,03,04,05,06,07,08,09,10,11,12".split(",").map(function(month){return react_default.a.createElement("option",{key:month,value:parseInt(month,10)},month)}),currentYear=(new Date).getFullYear(),years=Object(toConsumableArray.a)(Array(parseInt("10",10))).map(function(item,index){var year=index+currentYear;return react_default.a.createElement("option",{key:year,value:year},year)}),usePersonalAddress=values.usePersonalAddress,prePayment=values.prePayment;return react_default.a.createElement("form",{"data-test":"payment-card-form",name:"payment-card-form",onSubmit:handleSubmit},react_default.a.createElement(layout_Input_Input,{onBlur:handleBlur,onChange:handleChange,type:"text",placeholder:dictionary["payment.add.name"],id:"cardHolderName",name:"cardHolderName",mb:"mb2",error:dictionary[errors.cardHolderName],touched:touched.cardHolderName}),react_default.a.createElement(layout_CardNumberInput_CardNumberInput,{onChange:handleChange,type:"tel",name:"cardNumber",placeholder:dictionary["payment.add.number"],error:dictionary[errors.cardNumber],touched:touched.cardNumber,card:paymentCards[cardType]&&{src:domain+paymentCards[cardType].img,alt:paymentCards[cardType].name},onBlur:function(){return handleCardNumberBlur(values.cardNumber,setFieldTouched,setFieldError)},sessioncamhide:!0}),react_default.a.createElement(Typography.a,{size:"s",weight:"bold",className:"pi-color-greyscale-darkest mb0 mt2 wb-push-half--bottom"},dictionary["payment.add.date"]),react_default.a.createElement(BaseStyle.a,{className:"clearfix wb-push-middle--bottom",component:"div"},react_default.a.createElement(BaseStyle.a,{className:"clearfix",component:"div"},react_default.a.createElement(layout_Select_Select,{onBlur:handleBlur,onChange:handleChange,name:"expiryMonth",id:"expiryMonth",touched:touched.expiryYear&&touched.expiryMonth,error:dictionary[errors.expiryMonth],sessioncamhide:!0,halfWidth:!0,hideIcon:!0,hideMessage:!0},react_default.a.createElement("option",{key:"month",value:"",defaultValue:!0,disabled:disableSelectDefaults.month},dictionary["payment.placeholder.month"]),months),react_default.a.createElement(layout_Select_Select,{onBlur:handleBlur,onChange:handleChange,name:"expiryYear",id:"expiryYear",touched:touched.expiryYear&&touched.expiryMonth,error:dictionary[errors.expiryYear],sessioncamhide:!0,halfWidth:!0,hideMessage:!0},react_default.a.createElement("option",{key:"year",value:"",disabled:disableSelectDefaults.year},dictionary["payment.placeholder.year"]),years)),showExpiryDateError&&touched.expiryYear&&touched.expiryMonth&&react_default.a.createElement(Typography.a,{"data-test":"expiry-date-error",component:"span",className:"form-item-msg form-item-msg--error"},dictionary[errors.expiryYear])),react_default.a.createElement(layout_RadioGroup_RadioGroup,null,react_default.a.createElement(RadioGroup_RadioItem,{field:{name:"usePersonalAddress",value:usePersonalAddress,onBlur:handleBlur,onChange:handleChange},label:dictionary["payment.add.address.same"],name:"usePersonalAddress",id:"usePersonalAddress",value:"true",subLabels:[postCode],sessioncamhide:!0}),react_default.a.createElement(RadioGroup_RadioItem,{field:{name:"usePersonalAddress",value:usePersonalAddress,onBlur:handleBlur,onChange:handleChange},label:dictionary["payment.add.address.different"],name:"usePersonalAddress",id:"useBillingAddress",value:"false",sessioncamhide:!0})),"false"===usePersonalAddress&&react_default.a.createElement(components_AddressForm_AddressForm,{dictionary:dictionary,countries:countries,values:values,setFieldValue:setFieldValue,errors:errors,touched:touched,handleBlur:handleBlur,handleChange:handleChange}),react_default.a.createElement(layout_Checkbox_Checkbox,{field:{name:"prePayment",value:prePayment,onBlur:handleBlur,onChange:handleChange},name:"prePayment",id:"prePayment",label:dictionary["payment.add.prepay"],sessioncamhide:!0}),react_default.a.createElement(Button.a,{className:"wb-push--bottom",id:"save-card",color:"primary",type:"submit"},dictionary["payment.add.save"]),react_default.a.createElement(Button.a,{"data-test":"closeForm",variant:"text",color:"default",className:"wb-text-btn--underline block wb-push--bottom",onClick:cancel},dictionary["payment.add.cancel"]))},components_PaymentCardForm_PaymentCardForm=PaymentCardForm_PaymentCardForm;function PaymentCardFormContainer_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function PaymentCardFormContainer_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?PaymentCardFormContainer_ownKeys(source,!0).forEach(function(key){Object(defineProperty.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):PaymentCardFormContainer_ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}PaymentCardForm_PaymentCardForm.__docgenInfo={description:"",methods:[],displayName:"PaymentCardForm"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/PaymentCardForm/PaymentCardForm.js"]={name:"PaymentCardForm",docgenInfo:PaymentCardForm_PaymentCardForm.__docgenInfo,path:"src/components/PaymentCardForm/PaymentCardForm.js"});var PaymentCardFormContainer_getDomain=function(){return Object(session_storage.a)("environment").domain},PaymentCardFormContainer_CardList=function(){return Object.keys(config.l).map(function(card){return react_default.a.createElement(layout_Img_Img,{key:config.l[card].name,src:PaymentCardFormContainer_getDomain()+config.l[card].img,label:config.l[card].name,className:"mr1"})})},PaymentCardFormContainer_PaymentCardFormContainer=function(_PureComponent){function PaymentCardFormContainer(props){var _this;return Object(classCallCheck.a)(this,PaymentCardFormContainer),(_this=Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(PaymentCardFormContainer).call(this,props))).state={cardType:"",showExpiryDateError:!1,disableSelectDefaults:{month:!1,year:!1}},_this.cancel=_this.cancel.bind(Object(assertThisInitialized.a)(_this)),_this.handleSubmit=_this.handleSubmit.bind(Object(assertThisInitialized.a)(_this)),_this.validateExpiryDate=_this.validateExpiryDate.bind(Object(assertThisInitialized.a)(_this)),_this.handleCardNumberBlur=_this.handleCardNumberBlur.bind(Object(assertThisInitialized.a)(_this)),_this.validatePaymentCardForm=_this.validatePaymentCardForm.bind(Object(assertThisInitialized.a)(_this)),_this}return Object(inherits.a)(PaymentCardFormContainer,_PureComponent),Object(createClass.a)(PaymentCardFormContainer,[{key:"handleSubmit",value:function(values,actions){var _this$props=this.props,setNotificationMessage=_this$props.setNotificationMessage,setEditView=_this$props.setEditView,updateProfileStore=_this$props.updateProfileStore,updateProfile=_this$props.updateProfile,payload=this.createPayload(values);updateProfile(payload).then(function(){setNotificationMessage(appActions.o),setEditView(appActions.c),actions.setSubmitting(!1);var cardNumber=payload.paymentPreference.paymentCard.cardNumber;payload.paymentPreference.paymentCard.cardNumber="************".concat(cardNumber.slice(cardNumber.length-4)),updateProfileStore(payload)}).catch(function(){setNotificationMessage(appActions.n)})}},{key:"createPayload",value:function(values){var cardNumber=values.cardNumber,cardHolderName=values.cardHolderName,expiryMonth=values.expiryMonth,expiryYear=values.expiryYear,prePayment=values.prePayment,usePersonalAddress=values.usePersonalAddress,line1=values.line1,line2=values.line2,line3=values.line3,line4=values.line4,type=values.type,postCode=values.postCode,countryCode=values.countryCode,companyName=values.companyName,profile=this.props.profile,cardType=this.state.cardType,expiryDate="".concat(expiryMonth<10?"0":"").concat(expiryMonth,"/").concat(expiryYear%2e3),payload=PaymentCardFormContainer_objectSpread({},profile,{paymentPreference:PaymentCardFormContainer_objectSpread({},profile.paymentPreference,{paymentCard:{cardNumber:cardNumber,cardHolderName:cardHolderName,cardType:cardType,expiryDate:expiryDate}}),bookingPreference:PaymentCardFormContainer_objectSpread({},profile.bookingPreference,{prepay:prePayment})});return"false"===usePersonalAddress&&(payload.paymentPreference.paymentCard.billingAddress={line1:line1,line2:line2,line3:line3,line4:line4,postCode:postCode,countryCode:countryCode,type:type,companyName:type===config.a?companyName:null}),payload}},{key:"cancel",value:function(){var _this$props2=this.props,setEditView=_this$props2.setEditView,setNotificationMessage=_this$props2.setNotificationMessage;setEditView(appActions.c),setNotificationMessage(appActions.c)}},{key:"handleCardNumberBlur",value:function(cardNumber,setFieldTouched,setFieldError){var _this2=this,result=validationFunctions_validateCardNumber(cardNumber);setFieldTouched("cardNumber",!0,!1),result?(setFieldError("cardNumber",result),this.setState({cardType:""})):Object(api.k)(cardNumber).then(function(_ref){var cardType=_ref.cardType;_this2.setState({cardType:cardType})})}},{key:"validateExpiryDate",value:function(year,month){var disableSelectDefaults=this.state.disableSelectDefaults,result=function(year,month){var now=new Date,expiryDate=new Date(year,month,0,23,59,59);return(/^(\d{1,2}$)+$/.test(month)?!/^(\d{4})+$/.test(year)&&"payment.error.year":"payment.error.month")||expiryDate<now&&"payment.error.past"||void 0}(year,month);return this.setState({showExpiryDateError:!!result,disableSelectDefaults:PaymentCardFormContainer_objectSpread({},disableSelectDefaults,{month:!!month,year:!!year})}),result}},{key:"validatePaymentCardForm",value:function(_ref2){var name,cardNumber=_ref2.cardNumber,cardHolderName=_ref2.cardHolderName,expiryMonth=_ref2.expiryMonth,expiryYear=_ref2.expiryYear,line1=_ref2.line1,line2=_ref2.line2,line3=_ref2.line3,line4=_ref2.line4,postCode=_ref2.postCode,countryCode=_ref2.countryCode,type=_ref2.type,companyName=_ref2.companyName,usePersonalAddress=_ref2.usePersonalAddress,errors={};errors.cardHolderName=(name=cardHolderName,!nameRegex.test(name)||name.length>51?"profile.error.name":void 0),errors.cardNumber=validationFunctions_validateCardNumber(cardNumber);var errorExpiryDate=this.validateExpiryDate(expiryYear,expiryMonth);return errorExpiryDate&&(errors.expiryYear=errorExpiryDate,errors.expiryMonth=errorExpiryDate),"false"===usePersonalAddress&&(errors.postCode=validatePostCode(postCode,countryCode),"BUSINESS"===type&&(errors.companyName=validateCompanyName(companyName)),errors.line1=validateAddressLine(line1,!0),errors.line2=validateAddressLine(line2,!1),errors.line3=validateAddressLine(line3,!1),errors.line4=validateAddressLine(line4,!1)),Object.keys(errors).forEach(function(error){void 0===errors[error]&&delete errors[error]}),errors}},{key:"render",value:function(){var _this3=this,_this$props3=this.props,dictionary=_this$props3.dictionary,countries=_this$props3.countries,postCode=_this$props3.profile.contactDetail.address.postCode,notificationMessage=_this$props3.app.notificationMessage,_this$state=this.state,cardType=_this$state.cardType,showExpiryDateError=_this$state.showExpiryDateError,disableSelectDefaults=_this$state.disableSelectDefaults;return react_default.a.createElement(BaseStyle.a,{component:"section",className:"component-container"},notificationMessage===appActions.n&&react_default.a.createElement(Notification.a,{"data-test":"error-notification",priority:2,variant:"error",ariaLive:"polite",show:!0},dictionary["generic.error"]),react_default.a.createElement(Typography.a,{component:"h4",className:"pi-color-greyscale-darkest"},dictionary["payment.add.title"]),react_default.a.createElement(BaseStyle.a,{"data-test":"payment-cards",component:"div",className:"mb2"},react_default.a.createElement(PaymentCardFormContainer_CardList,{paymentCards:config.l,domain:PaymentCardFormContainer_getDomain()})),react_default.a.createElement(dist.Formik,{"data-test":"payment-card-form-wrapper",onSubmit:this.handleSubmit,initialValues:{cardNumber:"",cardHolderName:"",expiryMonth:"",expiryYear:"",usePersonalAddress:"true",prePayment:"false",line1:"",line2:"",line3:"",line4:"",postCode:"",countryCode:"GB",type:config.b,companyName:""},validate:this.validatePaymentCardForm,render:function(formikProps){return react_default.a.createElement(components_PaymentCardForm_PaymentCardForm,Object.assign({},formikProps,{dictionary:dictionary,countries:countries,handleCardNumberBlur:_this3.handleCardNumberBlur,cancel:_this3.cancel,paymentCards:config.l,cardType:cardType,domain:PaymentCardFormContainer_getDomain(),postCode:postCode,showExpiryDateError:showExpiryDateError,disableSelectDefaults:disableSelectDefaults}))}}))}}]),PaymentCardFormContainer}(react.PureComponent),mega_code_dist=__webpack_require__(65),DeleteCustomer_DeleteCustomer=function(_ref){var dictionary=_ref.dictionary,openModal=_ref.openModal,closeModal=_ref.closeModal,profile=_ref.profile,deleteCustomer=_ref.deleteCustomer,deleteUser=function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,deleteCustomer(profile);case 2:closeModal(),mega_code_dist.a.userLogOut(mega_code_dist.a.LOG_OUT_REASONS.DELETE_PROFILE);case 4:case"end":return _context.stop()}},_callee)}));return function(){return _ref2.apply(this,arguments)}}();return react_default.a.createElement(BaseStyle.a,{component:"div",className:"component-container"},react_default.a.createElement(Typography.a,{component:"h4",className:"pi-color-greyscale-darkest"},dictionary["deletecustomer.title"]),react_default.a.createElement(Typography.a,{component:"p",mb:"3"},dictionary["deletecustomer.description"]),react_default.a.createElement(Button.a,{"data-test":"delete-customer",color:"secondary",fullWidth:!0,onClick:function(){return openModal(react_default.a.createElement(DeleteModal.a,{title:dictionary["deletecustomer.modal.title"],subtext:dictionary["deletecustomer.modal.description"],deleteFunc:deleteUser,buttonLabel:dictionary["deletecustomer.modal.button"],handleClose:closeModal,cancelLabel:dictionary["deletecustomer.modal.cancel"]}))}},dictionary["deletecustomer.button"]))},components_DeleteCustomer_DeleteCustomer=DeleteCustomer_DeleteCustomer;DeleteCustomer_DeleteCustomer.__docgenInfo={description:"",methods:[],displayName:"DeleteCustomer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DeleteCustomer/DeleteCustomer.js"]={name:"DeleteCustomer",docgenInfo:DeleteCustomer_DeleteCustomer.__docgenInfo,path:"src/components/DeleteCustomer/DeleteCustomer.js"});var DeleteCustomerContainer=Object(lib.connect)(function(_ref){return{dictionary:_ref.dictionary,application:_ref.application,profile:_ref.userProfile.profile}},function(dispatch){return{openModal:function(content){return dispatch(Object(modalActions.d)(content))},closeModal:function(){return dispatch(Object(modalActions.c)())},deleteCustomer:function(profile){return dispatch(Object(appActions.C)(profile))}}})(components_DeleteCustomer_DeleteCustomer),RoomRequirements_RoomRequirements=function(_ref){var notificationMessage=_ref.app.notificationMessage,dictionary=_ref.dictionary,setEditView=_ref.setEditView,setNotificationMessage=_ref.setNotificationMessage;return react_default.a.createElement(BaseStyle.a,{component:"div",className:"component-container"},notificationMessage===appActions.x&&react_default.a.createElement(Notification.a,{"data-test":"success-message",priority:2,variant:"success",ariaLive:"polite",show:!0},dictionary["roomrequirements.notification.success"]),react_default.a.createElement(Typography.a,{component:"h4",className:"pi-color-greyscale-darkest"},dictionary["roomrequirements.title"]),react_default.a.createElement(Typography.a,{component:"p",mb:"3"},dictionary["roomrequirements.description"]),react_default.a.createElement(Button.a,{"data-test":"edit-roomrequirements",color:"quaternary",onClick:function(){setEditView(appActions.x),setNotificationMessage(appActions.c)}},dictionary["roomrequirements.button.edit"]))},components_RoomRequirements_RoomRequirements=RoomRequirements_RoomRequirements;RoomRequirements_RoomRequirements.__docgenInfo={description:"",methods:[],displayName:"RoomRequirements"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/RoomRequirements/RoomRequirements.js"]={name:"RoomRequirements",docgenInfo:RoomRequirements_RoomRequirements.__docgenInfo,path:"src/components/RoomRequirements/RoomRequirements.js"});var RoomTypeSelect_RoomTypeSelect=function(_ref){var dictionary=_ref.dictionary,type=_ref.type,hasChildren=_ref.hasChildren,hasMultipleAdults=_ref.hasMultipleAdults,fieldProps=Object(objectWithoutProperties.a)(_ref,["dictionary","type","hasChildren","hasMultipleAdults"]);return react_default.a.createElement(layout_Select_Select,fieldProps,type.filter(function(_ref2){var code=_ref2.code;return hasChildren?"FAM"===code:"FAM"!==code}).filter(function(_ref3){var code=_ref3.code;return!hasMultipleAdults||"SB"!==code}).filter(function(_ref4){var code=_ref4.code;return!!hasMultipleAdults||"TWIN"!==code}).map(function(_ref5){var code=_ref5.code,dictionaryKey=_ref5.dictionaryKey;return react_default.a.createElement("option",{key:code,value:code},dictionary[dictionaryKey])}))},RoomRequirementsForm_RoomTypeSelect=RoomTypeSelect_RoomTypeSelect;RoomTypeSelect_RoomTypeSelect.__docgenInfo={description:"",methods:[],displayName:"RoomTypeSelect"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/RoomRequirementsForm/RoomTypeSelect.js"]={name:"RoomTypeSelect",docgenInfo:RoomTypeSelect_RoomTypeSelect.__docgenInfo,path:"src/components/RoomRequirementsForm/RoomTypeSelect.js"});var RoomRequirementsForm_RoomRequirementsForm=function(_ref){var touched=_ref.touched,dictionary=_ref.dictionary,setEditView=_ref.setEditView,_ref$roomRequirements=_ref.roomRequirements,adults=_ref$roomRequirements.adults,children=_ref$roomRequirements.children,type=_ref$roomRequirements.type,handleSubmit=_ref.handleSubmit,handleBlur=_ref.handleBlur,handleChange=_ref.handleChange,values=_ref.values,setFieldValue=_ref.setFieldValue;return react_default.a.createElement("form",{"data-test":"room-requirements-form",name:"room-requirements-form",onSubmit:handleSubmit},react_default.a.createElement(layout_Select_Select,{onBlur:handleBlur,onChange:function(_ref3){var value=_ref3.target.value;value>1&&setFieldValue("type","DB"),setFieldValue("adults",value)},defaultValue:values.adults,name:"adults",id:"adults",label:dictionary["roomrequirements.adults.label"],touched:touched.adults},adults.map(function(adult){return react_default.a.createElement("option",{key:adult,value:adult},adult)})),react_default.a.createElement(layout_Select_Select,{onBlur:handleBlur,onChange:function(_ref2){var value=_ref2.target.value;value>0&&setFieldValue("type","FAM"),setFieldValue("children",value)},defaultValue:values.children,name:"children",id:"children",label:dictionary["roomrequirements.children.label"],touched:touched.children},children.map(function(child){return react_default.a.createElement("option",{key:child,value:child},child)})),react_default.a.createElement(layout_Select_Select,{onBlur:handleBlur,onChange:handleChange,defaultValue:values.cotRequired,name:"cotRequired",id:"cotRequired",label:dictionary["roomrequirements.cot.label"],touched:touched.cotRequired},react_default.a.createElement("option",{key:dictionary["roomrequirements.cotrequired.true"],value:"true"},dictionary["roomrequirements.cotrequired.true"]),react_default.a.createElement("option",{key:dictionary["roomrequirements.cotrequired.false"],value:"false"},dictionary["roomrequirements.cotrequired.false"])),react_default.a.createElement(RoomRequirementsForm_RoomTypeSelect,{type:type,dictionary:dictionary,hasChildren:parseInt(values.children,10)>0,hasMultipleAdults:parseInt(values.adults,10)>1,onBlur:handleBlur,onChange:handleChange,defaultValue:values.type,name:"type",id:"type",label:dictionary["roomrequirements.roomType.label"],touched:touched.type}),react_default.a.createElement(Button.a,{className:"wb-push--bottom",id:"save-changed",color:"primary",type:"submit"},dictionary["roomrequirements.button.save"]),react_default.a.createElement(Button.a,{"data-test":"closeForm",color:"default",variant:"text",className:"underline block",fullWidth:!0,onClick:function(){return setEditView(appActions.c)}},dictionary["roomrequirements.button.cancel"]))},components_RoomRequirementsForm_RoomRequirementsForm=RoomRequirementsForm_RoomRequirementsForm;function RoomRequirementsFormContainer_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function RoomRequirementsFormContainer_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?RoomRequirementsFormContainer_ownKeys(source,!0).forEach(function(key){Object(defineProperty.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):RoomRequirementsFormContainer_ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}RoomRequirementsForm_RoomRequirementsForm.__docgenInfo={description:"",methods:[],displayName:"RoomRequirementsForm"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/RoomRequirementsForm/RoomRequirementsForm.js"]={name:"RoomRequirementsForm",docgenInfo:RoomRequirementsForm_RoomRequirementsForm.__docgenInfo,path:"src/components/RoomRequirementsForm/RoomRequirementsForm.js"});var RoomRequirementsFormContainer_RoomRequirementsFormContainer=function(_PureComponent){function RoomRequirementsFormContainer(props){var _this;return Object(classCallCheck.a)(this,RoomRequirementsFormContainer),(_this=Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(RoomRequirementsFormContainer).call(this,props))).handleSubmit=_this.handleSubmit.bind(Object(assertThisInitialized.a)(_this)),_this}return Object(inherits.a)(RoomRequirementsFormContainer,_PureComponent),Object(createClass.a)(RoomRequirementsFormContainer,[{key:"handleSubmit",value:function(values,actions){var _this$props=this.props,setNotificationMessage=_this$props.setNotificationMessage,updateProfileStore=_this$props.updateProfileStore,setEditView=_this$props.setEditView,updateProfile=_this$props.updateProfile,payload=this.createPayload(values);updateProfile(payload).then(function(){setNotificationMessage(appActions.x),setEditView(appActions.c),actions.setSubmitting(!1),updateProfileStore(payload)}).catch(function(){setNotificationMessage(appActions.w)})}},{key:"createPayload",value:function(values){var adults=values.adults,children=values.children,cotRequired=values.cotRequired,type=values.type,profile=this.props.profile;return RoomRequirementsFormContainer_objectSpread({},profile,{bookingPreference:RoomRequirementsFormContainer_objectSpread({},profile.bookingPreference,{roomRequirements:{adults:+adults,children:+children,cotRequired:"true"===cotRequired,type:type,hotelBrand:profile.bookingPreference&&profile.bookingPreference.roomRequirements&&profile.bookingPreference.roomRequirements.hotelBrand?profile.bookingPreference.roomRequirements.hotelBrand:config.m.defaults.hotelBrand}})})}},{key:"render",value:function(){var _this$props2=this.props,profile=_this$props2.profile,setEditView=_this$props2.setEditView,dictionary=_this$props2.dictionary,notificationMessage=_this$props2.app.notificationMessage,_profile$bookingPrefe=profile.bookingPreference,_profile$bookingPrefe2=(_profile$bookingPrefe=void 0===_profile$bookingPrefe?{}:_profile$bookingPrefe).roomRequirements,_profile$bookingPrefe3=(_profile$bookingPrefe2=void 0===_profile$bookingPrefe2?{}:_profile$bookingPrefe2).adults,adults=void 0===_profile$bookingPrefe3?config.m.defaults.adults:_profile$bookingPrefe3,_profile$bookingPrefe4=_profile$bookingPrefe2.children,children=void 0===_profile$bookingPrefe4?config.m.defaults.children:_profile$bookingPrefe4,_profile$bookingPrefe5=_profile$bookingPrefe2.cotRequired,cotRequired=void 0===_profile$bookingPrefe5?config.m.defaults.cotRequired:_profile$bookingPrefe5,_profile$bookingPrefe6=_profile$bookingPrefe2.type,type=void 0===_profile$bookingPrefe6?config.m.defaults.type:_profile$bookingPrefe6;return react_default.a.createElement(BaseStyle.a,{component:"section",className:"component-container"},notificationMessage===appActions.w&&react_default.a.createElement(Notification.a,{"data-test":"error-notification",priority:2,variant:"error",ariaLive:"polite",show:!0},dictionary["generic.error"]),react_default.a.createElement(Typography.a,{component:"h4",className:"pi-color-greyscale-darkest"},dictionary["roomrequirements.title.edit"]),react_default.a.createElement(dist.Formik,{"data-test":"room-requirements-form-wrapper",onSubmit:this.handleSubmit,initialValues:{adults:adults,children:children,cotRequired:cotRequired,type:type},render:function(formikProps){return react_default.a.createElement(components_RoomRequirementsForm_RoomRequirementsForm,Object.assign({},formikProps,{dictionary:dictionary,setEditView:setEditView,profile:profile,roomRequirements:config.m}))}}))}}]),RoomRequirementsFormContainer}(react.PureComponent),ExtrasPreferences_ExtrasPreferences=function(_ref){var notificationMessage=_ref.app.notificationMessage,dictionary=_ref.dictionary,setEditView=_ref.setEditView,setNotificationMessage=_ref.setNotificationMessage;return react_default.a.createElement(BaseStyle.a,{component:"div",className:"component-container"},notificationMessage===appActions.e&&react_default.a.createElement(Notification.a,{"data-test":"success-message",priority:2,variant:"success",ariaLive:"polite",show:!0},dictionary["extraspreferences.notification.success"]),react_default.a.createElement(Typography.a,{component:"h4",className:"pi-color-greyscale-darkest"},dictionary["extraspreferences.title"]),react_default.a.createElement(Typography.a,{component:"p",mb:"3"},dictionary["extraspreferences.description"]),react_default.a.createElement(Button.a,{"data-test":"edit-extras-preferences",color:"quaternary",onClick:function(){setEditView(appActions.e),setNotificationMessage(appActions.c)}},dictionary["extraspreferences.button.edit"]))},components_ExtrasPreferences_ExtrasPreferences=ExtrasPreferences_ExtrasPreferences;ExtrasPreferences_ExtrasPreferences.__docgenInfo={description:"",methods:[],displayName:"ExtrasPreferences"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ExtrasPreferences/ExtrasPreferences.js"]={name:"ExtrasPreferences",docgenInfo:ExtrasPreferences_ExtrasPreferences.__docgenInfo,path:"src/components/ExtrasPreferences/ExtrasPreferences.js"});var ExtrasPreferencesForm_ExtrasPreferencesForm=function(_ref){var business=_ref.profile.business,dictionary=_ref.dictionary,setEditView=_ref.setEditView,values=_ref.values,handleChange=_ref.handleChange,handleBlur=_ref.handleBlur,handleSubmit=_ref.handleSubmit;return react_default.a.createElement("form",{"data-test":"extras-preferences-form",name:"extras-preferences-form",onSubmit:handleSubmit},react_default.a.createElement(Typography.a,{component:"h4",className:"pi-color-greyscale-darkest"},dictionary["extraspreferences.edit.meals.title"]),react_default.a.createElement(layout_RadioGroup_RadioGroup,null,config.k.map(function(_ref2){var code=_ref2.code,dictionaryKey=_ref2.dictionaryKey;return react_default.a.createElement(RadioGroup_RadioItem,{field:{name:"mealOptions",value:values.mealOptions,onBlur:handleBlur,onChange:handleChange},label:dictionary[dictionaryKey],name:"mealOptions",id:code,value:code,key:code})})),business&&react_default.a.createElement("div",{"data-test":"extraspreferences-wifi"},react_default.a.createElement(Typography.a,{component:"h4",className:"pi-color-greyscale-darkest"},dictionary["extraspreferences.edit.wifi.title"]),react_default.a.createElement(layout_RadioGroup_RadioGroup,null,react_default.a.createElement(RadioGroup_RadioItem,{field:{name:"wifiOptions",value:values.wifiOptions,onBlur:handleBlur,onChange:handleChange},label:dictionary["extraspreferences.edit.wifi.description.allow"],name:"wifiOptions",id:"allowWifi",value:"true"}),react_default.a.createElement(RadioGroup_RadioItem,{field:{name:"wifiOptions",value:values.wifiOptions,onBlur:handleBlur,onChange:handleChange},label:dictionary["extraspreferences.edit.wifi.description.never"],name:"wifiOptions",id:"noWifi",value:"false"}))),react_default.a.createElement(Typography.a,{component:"h4",className:"pi-color-greyscale-darkest"},dictionary["extraspreferences.edit.invoice.title"]),react_default.a.createElement(layout_RadioGroup_RadioGroup,null,react_default.a.createElement(RadioGroup_RadioItem,{field:{name:"invoiceOptions",value:values.invoiceOptions,onBlur:handleBlur,onChange:handleChange},label:dictionary["extraspreferences.edit.invoice.email"],name:"invoiceOptions",id:"emailInvoice",value:"true"}),react_default.a.createElement(RadioGroup_RadioItem,{field:{name:"invoiceOptions",value:values.invoiceOptions,onBlur:handleBlur,onChange:handleChange},label:dictionary["extraspreferences.edit.invoice.checkin"],name:"invoiceOptions",id:"checkInInvoice",value:"false"})),react_default.a.createElement(Button.a,{"data-test":"save-changes",className:"wb-push--bottom",color:"primary",type:"submit"},dictionary["extraspreferences.button.save"]),react_default.a.createElement(Button.a,{"data-test":"closeForm",color:"default",variant:"text",className:"underline block",fullWidth:!0,onClick:function(){return setEditView(appActions.c)}},dictionary["extraspreferences.button.cancel"]))},components_ExtrasPreferencesForm_ExtrasPreferencesForm=ExtrasPreferencesForm_ExtrasPreferencesForm;function ExtrasPreferencesFormContainer_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function ExtrasPreferencesFormContainer_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ExtrasPreferencesFormContainer_ownKeys(source,!0).forEach(function(key){Object(defineProperty.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ExtrasPreferencesFormContainer_ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}ExtrasPreferencesForm_ExtrasPreferencesForm.__docgenInfo={description:"",methods:[],displayName:"ExtrasPreferencesForm"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ExtrasPreferencesForm/ExtrasPreferencesForm.js"]={name:"ExtrasPreferencesForm",docgenInfo:ExtrasPreferencesForm_ExtrasPreferencesForm.__docgenInfo,path:"src/components/ExtrasPreferencesForm/ExtrasPreferencesForm.js"});var ExtrasPreferencesFormContainer_ExtrasPreferencesFormContainer=function(_PureComponent){function ExtrasPreferencesFormContainer(props){var _this;return Object(classCallCheck.a)(this,ExtrasPreferencesFormContainer),(_this=Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(ExtrasPreferencesFormContainer).call(this,props))).handleSubmit=_this.handleSubmit.bind(Object(assertThisInitialized.a)(_this)),_this}return Object(inherits.a)(ExtrasPreferencesFormContainer,_PureComponent),Object(createClass.a)(ExtrasPreferencesFormContainer,[{key:"handleSubmit",value:function(values,actions){var _this$props=this.props,setNotificationMessage=_this$props.setNotificationMessage,updateProfileStore=_this$props.updateProfileStore,setEditView=_this$props.setEditView,updateProfile=_this$props.updateProfile,payload=this.createPayload(values);updateProfile(payload).then(function(){setNotificationMessage(appActions.e),setEditView(appActions.c),actions.setSubmitting(!1),updateProfileStore(payload)}).catch(function(){setNotificationMessage(appActions.d)})}},{key:"createPayload",value:function(values){var profile=this.props.profile;return ExtrasPreferencesFormContainer_objectSpread({},profile,{bookingPreference:ExtrasPreferencesFormContainer_objectSpread({},profile.bookingPreference,{foodPreference:+values.mealOptions,preselectWifi:"true"===values.wifiOptions}),paymentPreference:ExtrasPreferencesFormContainer_objectSpread({},profile.paymentPreference,{electronicInvoiceRequired:"true"===values.invoiceOptions})})}},{key:"render",value:function(){var _this$props2=this.props,notificationMessage=_this$props2.app.notificationMessage,dictionary=_this$props2.dictionary,setEditView=_this$props2.setEditView,profile=_this$props2.profile,_profile$bookingPrefe=profile.bookingPreference,_profile$bookingPrefe2=(_profile$bookingPrefe=void 0===_profile$bookingPrefe?{}:_profile$bookingPrefe).foodPreference,foodPreference=void 0===_profile$bookingPrefe2?0:_profile$bookingPrefe2,_profile$bookingPrefe3=_profile$bookingPrefe.preselectWifi,preselectWifi=void 0!==_profile$bookingPrefe3&&_profile$bookingPrefe3,_profile$paymentPrefe=profile.paymentPreference,_profile$paymentPrefe2=(_profile$paymentPrefe=void 0===_profile$paymentPrefe?{}:_profile$paymentPrefe).electronicInvoiceRequired,electronicInvoiceRequired=void 0!==_profile$paymentPrefe2&&_profile$paymentPrefe2;return react_default.a.createElement(BaseStyle.a,{component:"div",className:"component-container"},notificationMessage===appActions.d&&react_default.a.createElement(Notification.a,{"data-test":"error-notification",priority:2,variant:"error",ariaLive:"polite",show:!0},dictionary["generic.error"]),react_default.a.createElement(Typography.a,{component:"h4",className:"pi-color-greyscale-darkest"},dictionary["extraspreferences.edit.title"]),react_default.a.createElement(Typography.a,{component:"p",mb:"3"},dictionary["extraspreferences.edit.description"]),react_default.a.createElement(dist.Formik,{"data-test":"extras-preferences-form-wrapper",onSubmit:this.handleSubmit,initialValues:{mealOptions:"".concat(foodPreference),wifiOptions:"".concat(preselectWifi),invoiceOptions:"".concat(electronicInvoiceRequired)},render:function(formikProps){return react_default.a.createElement(components_ExtrasPreferencesForm_ExtrasPreferencesForm,Object.assign({},formikProps,{dictionary:dictionary,setEditView:setEditView,profile:profile}))}}))}}]),ExtrasPreferencesFormContainer}(react.PureComponent),components_MemorableWord_MemorableWord=function(_Component){function MemorableWord(props){var _this;return Object(classCallCheck.a)(this,MemorableWord),(_this=Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(MemorableWord).call(this,props))).state={error:void 0,touched:!1,memorableWord:""},_this.handleBlur=_this.handleBlur.bind(Object(assertThisInitialized.a)(_this)),_this.handleChange=_this.handleChange.bind(Object(assertThisInitialized.a)(_this)),_this.handleSubmit=_this.handleSubmit.bind(Object(assertThisInitialized.a)(_this)),_this}return Object(inherits.a)(MemorableWord,_Component),Object(createClass.a)(MemorableWord,[{key:"handleSubmit",value:function(e){var _this2=this,_this$props=this.props,guid=_this$props.profile.business.tetheredGuid,setNotificationMessage=_this$props.setNotificationMessage,memorableWord=this.state.memorableWord;e.preventDefault(),Object(api.h)(guid).then(function(_ref){var worldlineSession=_ref.sessionId,secret=_ref.sharedSecret;return Object(api.g)({worldlineSession:worldlineSession,secret:secret,memorableWord:memorableWord}).then(function(){setNotificationMessage(appActions.g),_this2.setState({memorableWord:""})})}).catch(function(){setNotificationMessage(appActions.f)})}},{key:"handleBlur",value:function(_ref2){var memorableWord=_ref2.target.value;this.setState({error:validateMemorableWord(memorableWord),touched:!0})}},{key:"handleChange",value:function(_ref3){var memorableWord=_ref3.target.value;this.setState({error:validateMemorableWord(memorableWord),memorableWord:memorableWord})}},{key:"render",value:function(){var _this$props2=this.props,dictionary=_this$props2.dictionary,notificationMessage=_this$props2.app.notificationMessage,_this$state=this.state,error=_this$state.error,touched=_this$state.touched,memorableWord=_this$state.memorableWord;return react_default.a.createElement(BaseStyle.a,{component:"section",className:"component-container"},notificationMessage===appActions.f&&react_default.a.createElement(Notification.a,{"data-test":"error-notification",priority:2,variant:"error",ariaLive:"polite",show:!0},dictionary["generic.error"]),notificationMessage===appActions.g&&react_default.a.createElement(Notification.a,{"data-test":"success-message",priority:2,variant:"success",ariaLive:"polite",show:!0},dictionary["update.success.message"]),react_default.a.createElement(Typography.a,{component:"h4",className:"pi-color-greyscale-darkest"},dictionary["memorable.word.title"]),react_default.a.createElement(Typography.a,{component:"p",mb:"3"},dictionary["memorable.word.body"]),react_default.a.createElement("form",{name:"memorable-word-form",onSubmit:this.handleSubmit},react_default.a.createElement(layout_Input_Input,{onChange:this.handleChange,onBlur:this.handleBlur,error:dictionary[error],touched:touched,type:"password",name:"memorableWord",value:memorableWord,placeholder:dictionary["memorable.word.placeholder"]}),react_default.a.createElement(Button.a,{"data-test":"update-memorable-word",color:"secondary",mt:"2",type:"submit",fullWidth:!0},dictionary["memorable.word.submit"])))}}]),MemorableWord}(react.Component),MemorableWordContainer=Object(lib.connect)(function(_ref){return{dictionary:_ref.dictionary,profile:_ref.userProfile.profile,app:_ref.app}},function(dispatch){return{setNotificationMessage:function(messageName){return dispatch({type:appActions.z,notificationMessage:messageName})}}})(components_MemorableWord_MemorableWord),Hyperlink=__webpack_require__(143),MoveAccount_MoveAccount=function(_ref){var dictionary=_ref.dictionary;return react_default.a.createElement("section",{className:"component-container"},react_default.a.createElement(Typography.a,{component:"h4",className:"pi-color-greyscale-darkest"},dictionary["moveaccount.title"]),react_default.a.createElement(Typography.a,{component:"p",mb:"3",dangerouslySetInnerHTML:{__html:dictionary["moveaccount.body"]}}),react_default.a.createElement(Hyperlink.a,{variant:"primary",href:Object(session_storage.a)("environment").tetheringUrl},dictionary["moveaccount.submit"]))},components_MoveAccount_MoveAccount=MoveAccount_MoveAccount;MoveAccount_MoveAccount.__docgenInfo={description:"",methods:[],displayName:"MoveAccount"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/MoveAccount/MoveAccount.js"]={name:"MoveAccount",docgenInfo:MoveAccount_MoveAccount.__docgenInfo,path:"src/components/MoveAccount/MoveAccount.js"});var MoveAccountContainer=Object(lib.connect)(function(_ref){return{dictionary:_ref.dictionary}})(components_MoveAccount_MoveAccount),ManagePermission_ManagePermission=function(_ref){var dictionary=_ref.dictionary;return react_default.a.createElement("section",{className:"component-container"},react_default.a.createElement(Typography.a,{component:"h4",className:"pi-color-greyscale-darkest"},dictionary["managepermission.title"]),react_default.a.createElement(Typography.a,{mb:"2"},dictionary["managepermission.description"]),react_default.a.createElement(Button.a,{"data-test":"manage-permission",color:"secondary",fullWidth:!0,onClick:function(){window.location.assign("".concat(Object(session_storage.a)("environment").domain).concat(config.i))}},dictionary["managepermission.button"]))},components_ManagePermission_ManagePermission=ManagePermission_ManagePermission;ManagePermission_ManagePermission.__docgenInfo={description:"",methods:[],displayName:"ManagePermission"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ManagePermission/ManagePermission.js"]={name:"ManagePermission",docgenInfo:ManagePermission_ManagePermission.__docgenInfo,path:"src/components/ManagePermission/ManagePermission.js"});var components_App_App=function(_Component){function App(props){var _this;return Object(classCallCheck.a)(this,App),(_this=Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(App).call(this,props))).handleLoggedIn=_this.handleLoggedIn.bind(Object(assertThisInitialized.a)(_this)),_this}return Object(inherits.a)(App,_Component),Object(createClass.a)(App,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleLoggedIn)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleLoggedIn)}},{key:"handleLoggedIn",value:function(){var _handleLoggedIn=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee(event){var getSettings,_JSON$parse,email,sessionId,business;return regenerator_default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:event.data.action===config.e&&(getSettings=this.props.getSettings,_JSON$parse=JSON.parse(event.data.profile),email=_JSON$parse.contactDetail.email,sessionId=_JSON$parse.sessionId,business=_JSON$parse.business,getSettings(email,sessionId,!!business));case 1:case"end":return _context.stop()}},_callee,this)}));return function(_x){return _handleLoggedIn.apply(this,arguments)}}()},{key:"render",value:function(){var _this$props=this.props,countries=_this$props.countries,dictionary=_this$props.dictionary,profile=_this$props.profile,regions=_this$props.regions,newsletter=_this$props.newsletter,displayModal=_this$props.displayModal,handleModalClose=_this$props.handleModalClose,modalContent=_this$props.modalContent,userDataReceived=_this$props.userDataReceived,showEmailPreferences=_this$props.application.showEmailPreferences,business=profile.business,_profile$business=profile.business,_profile$business$acc=(_profile$business=void 0===_profile$business?{}:_profile$business).accessLevel,accessLevel=void 0===_profile$business$acc?"":_profile$business$acc,_profile$business$tet=_profile$business.tetheredGuid,tetheredGuid=void 0===_profile$business$tet?"":_profile$business$tet,appReady=userDataReceived&&(!showEmailPreferences||!!regions.length)&&!!countries.length&&(!showEmailPreferences||!!Object.keys(newsletter).length)&&!!Object.keys(dictionary).length&&!!Object.keys(profile).length,showExtrasPreferences=!(accessLevel===config.c||accessLevel===config.d);return react_default.a.createElement("div",{"data-test":"AccountSettings"},appReady&&react_default.a.createElement(BaseStyle.a,{className:"wb-typography app-container"},react_default.a.createElement(ComponentTogglerContainer,{viewName:appActions.B,view:components_UserProfile_UserProfile,edit:UserProfileFormContainer_UserProfileFormContainer}),react_default.a.createElement(ComponentTogglerContainer,{viewName:appActions.m,view:components_Password_Password,edit:PasswordFormContainer_PasswordFormContainer}),react_default.a.createElement(ComponentTogglerContainer,{viewName:appActions.o,view:PaymentCard.a,edit:PaymentCardFormContainer_PaymentCardFormContainer}),config.h&&react_default.a.createElement(components_ManagePermission_ManagePermission,{dictionary:dictionary}),react_default.a.createElement(RegularGuestsContainer,null),showEmailPreferences&&react_default.a.createElement(NewsletterContainer,null),react_default.a.createElement(ComponentTogglerContainer,{viewName:appActions.x,view:components_RoomRequirements_RoomRequirements,edit:RoomRequirementsFormContainer_RoomRequirementsFormContainer}),showExtrasPreferences&&react_default.a.createElement(ComponentTogglerContainer,{viewName:appActions.e,view:components_ExtrasPreferences_ExtrasPreferences,edit:ExtrasPreferencesFormContainer_ExtrasPreferencesFormContainer}),!!tetheredGuid&&react_default.a.createElement(MemorableWordContainer,null),business&&!tetheredGuid&&react_default.a.createElement(MoveAccountContainer,null),!business&&react_default.a.createElement(DeleteCustomerContainer,null),displayModal&&react_default.a.createElement(layout_Modal_Modal,{"data-test":"Modal",display:!0,content:modalContent,handleClose:handleModalClose})))}}]),App}(react.Component),AppContainer=Object(lib.connect)(function(_ref){var _ref$modal=_ref.modal,displayModal=_ref$modal.display,modalContent=_ref$modal.content,dictionary=_ref.dictionary,config=_ref.config,countries=_ref.countries,regions=_ref.regions,newsletter=_ref.newsletter,application=_ref.application,_ref$userProfile=_ref.userProfile,userDataReceived=_ref$userProfile.userDataReceived;return{profile:_ref$userProfile.profile,displayModal:displayModal,modalContent:modalContent,dictionary:dictionary,config:config,countries:countries,regions:regions,newsletter:newsletter,application:application,userDataReceived:userDataReceived}},function(dispatch){return{getSettings:function(email,sessionId,business){return dispatch(Object(appActions.D)(email,sessionId,business))},handleModalClose:function(){return dispatch(Object(modalActions.c)())}}})(components_App_App);function modalReducer_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function modalReducer_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?modalReducer_ownKeys(source,!0).forEach(function(key){Object(defineProperty.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):modalReducer_ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var modalReducer=function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{display:!1,content:null},action=arguments.length>1?arguments[1]:void 0,type=action.type,content=action.content;switch(type){case modalActions.b:return modalReducer_objectSpread({},state,{display:!0,content:content});case modalActions.a:return modalReducer_objectSpread({},state,{display:!1,content:null});default:return state}};__webpack_require__.d(__webpack_exports__,"a",function(){return AppContainer}),__webpack_require__.d(__webpack_exports__,"b",function(){return modalReducer})},175:function(module,__webpack_exports__,__webpack_require__){"use strict";var objectSpread=__webpack_require__(396),objectWithoutProperties=__webpack_require__(395),react=__webpack_require__(0),react_default=__webpack_require__.n(react),lib=__webpack_require__(28),redux_thunk_lib=__webpack_require__(170),redux_thunk_lib_default=__webpack_require__.n(redux_thunk_lib),redux=__webpack_require__(55),redux_devtools_extension=__webpack_require__(171),toConsumableArray=__webpack_require__(83),appActions=__webpack_require__(1),defineProperty=__webpack_require__(4);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){Object(defineProperty.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var defaultState={editViewName:appActions.c};function newsletterPreferencesReducer_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function newsletterPreferencesReducer_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?newsletterPreferencesReducer_ownKeys(source,!0).forEach(function(key){Object(defineProperty.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):newsletterPreferencesReducer_ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var newsletterPreferencesReducer_defaultState={},App=__webpack_require__(174);function profileReducer_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function profileReducer_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?profileReducer_ownKeys(source,!0).forEach(function(key){Object(defineProperty.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):profileReducer_ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var profileReducer_defaultState={userDataReceived:!1,profile:{business:!1}},root_reducer=Object(redux.combineReducers)({countries:function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],action=arguments.length>1?arguments[1]:void 0;return action.type===appActions.b?Object(toConsumableArray.a)(action.countries):state},regions:function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],action=arguments.length>1?arguments[1]:void 0;switch(action.type){case appActions.r:return Object(toConsumableArray.a)(action.regions);default:return state}},newsletter:function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:newsletterPreferencesReducer_defaultState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case appActions.i:case appActions.j:return newsletterPreferencesReducer_objectSpread({},action.newsletter);case appActions.u:return newsletterPreferencesReducer_objectSpread({},newsletterPreferencesReducer_defaultState);default:return state}},application:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{showEmailPreferences:!1}},dictionary:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},app:function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:defaultState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case appActions.y:return _objectSpread({},state,{editViewName:action.editViewName});case appActions.z:return _objectSpread({},state,{notificationMessage:action.notificationMessage});default:return state}},modal:App.b,userProfile:function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:profileReducer_defaultState,_ref=arguments.length>1?arguments[1]:void 0,type=_ref.type,profile=_ref.profile;switch(type){case appActions.q:return profileReducer_objectSpread({},state,{profile:profile});case appActions.p:return profileReducer_objectSpread({},state,{profile:profile,userDataReceived:!0});case appActions.v:return profileReducer_objectSpread({},profileReducer_defaultState);default:return state}}}),session_storage=(__webpack_require__(706),__webpack_require__(15)),jstz_min=__webpack_require__(390),jstz_min_default=__webpack_require__.n(jstz_min),analytics_getEnvironment=function(){var host=window.location.host;return host.indexOf("nativ-systems")>0?"UAT":host.indexOf("digital")>0?"ODE":"PROD"},trackEvent=function(event){var _window$_satellite=window._satellite,track=(_window$_satellite=void 0===_window$_satellite?{}:_window$_satellite).track;track&&track(event)},middlewares_analytics=function(){return function(next){return function(action){var analyticsData=window.analyticsData;switch(action.type){case appActions.y:analyticsData.settingName=action.editViewName,action.editViewName&&trackEvent("settingView");break;case appActions.z:action.notificationMessage&&-1===action.notificationMessage.indexOf("ERROR")&&(analyticsData.updated=action.notificationMessage,trackEvent("settingUpdated"));break;case appActions.p:analyticsData.userID=action.profile.guestHistoryNumber,analyticsData.userLoggedIn="logged-in",trackEvent("general");break;case appActions.i:case appActions.j:analyticsData.optIn=action.newsletter.regionSubscriptions}return next(action)}}};redux_thunk_lib_default.a;var store_createInitialStoreFromConfig=function(_ref){var application=_ref.application,dictionary=_ref.dictionary,environment=_ref.environment;return Object(session_storage.b)("environment",environment),function(_ref){var language=_ref.language;window.analyticsData={language:language,pageType:"account",siteType:"AEM 5.6",currencyCode:"gbp",userLoggedIn:"not logged-in",userID:"",environment:analytics_getEnvironment(),pageURL:window.location.href,pageName:window.location.href.split("/").pop(),browserTimeZone:jstz_min_default.a.determine().name().toLowerCase()}}(application),{application:application,dictionary:dictionary}},mockedConfig_application=__webpack_require__(140),mockedConfig_environment=__webpack_require__(391),en=__webpack_require__(141),withRedux_middlewares=[redux_thunk_lib_default.a];__webpack_exports__.a=function(){var initialStore=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_initialStore$applica=initialStore.application,application=void 0===_initialStore$applica?mockedConfig_application:_initialStore$applica,_initialStore$environ=initialStore.environment,environment=void 0===_initialStore$environ?mockedConfig_environment:_initialStore$environ,_initialStore$diction=initialStore.dictionary,dictionary=void 0===_initialStore$diction?en:_initialStore$diction,initialState=Object(objectWithoutProperties.a)(initialStore,["application","environment","dictionary"]);return function(story){return react_default.a.createElement(lib.Provider,{key:Math.random(),store:Object(redux.createStore)(root_reducer,Object(objectSpread.a)({},store_createInitialStoreFromConfig({application:application,environment:environment,dictionary:dictionary}),initialState),Object(redux_devtools_extension.composeWithDevTools)(redux.applyMiddleware.apply(void 0,withRedux_middlewares)))},story())}}},176:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(0),react_default=__webpack_require__.n(react),classnames=__webpack_require__(16),classnames_default=__webpack_require__.n(classnames),alignments={left:"pl1",right:"pr1"},Icon_Icon=function(_ref){var icon=_ref.icon,push=_ref.push,className=_ref.className,cssClasses=classnames_default()("wb-icon_".concat(icon),alignments[push],className);return react_default.a.createElement("i",{className:cssClasses})},layout_Icon_Icon=Icon_Icon;Icon_Icon.__docgenInfo={description:"",methods:[],displayName:"Icon"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/layout/Icon/Icon.js"]={name:"Icon",docgenInfo:Icon_Icon.__docgenInfo,path:"src/layout/Icon/Icon.js"}),__webpack_require__.d(__webpack_exports__,"a",function(){return layout_Icon_Icon})},249:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),PaddedContainer=function(_ref){var children=_ref.children;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"wb-soft--base wb-container"},children)};__webpack_exports__.a=PaddedContainer,PaddedContainer.__docgenInfo={description:"",methods:[],displayName:"PaddedContainer",props:{children:{type:{name:"node"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["documentation/stories/utils/layout/PaddedContainer.js"]={name:"PaddedContainer",docgenInfo:PaddedContainer.__docgenInfo,path:"documentation/stories/utils/layout/PaddedContainer.js"})},250:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),WrapperWithFonts=function(_ref){var children=_ref.children;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"wb-typography"},children)};__webpack_exports__.a=WrapperWithFonts,WrapperWithFonts.__docgenInfo={description:"",methods:[],displayName:"WrapperWithFonts",props:{children:{type:{name:"element"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["documentation/stories/utils/layout/WrapperWithFonts.js"]={name:"WrapperWithFonts",docgenInfo:WrapperWithFonts.__docgenInfo,path:"documentation/stories/utils/layout/WrapperWithFonts.js"})},253:function(module,__webpack_exports__,__webpack_require__){"use strict";var objectWithoutProperties=__webpack_require__(14),react=__webpack_require__(0),react_default=__webpack_require__.n(react),classnames=__webpack_require__(16),classnames_default=__webpack_require__.n(classnames),BaseStyle=__webpack_require__(6),Typography=__webpack_require__(3),Icon=__webpack_require__(176),PageStatus_PageStatus=(__webpack_require__(891),function(_ref){var ariaLive=_ref.ariaLive,variant=_ref.variant,title=_ref.title,children=_ref.children,className=_ref.className,otherProps=Object(objectWithoutProperties.a)(_ref,["ariaLive","variant","title","children","className"]),classes=classnames_default()("pi-page-status","pi-page-status-".concat(variant),className);return title&&children&&react_default.a.createElement(BaseStyle.a,Object.assign({"data-test":"error-".concat(variant),role:"region","aria-live":ariaLive,component:"div",className:classes},otherProps),react_default.a.createElement(Icon.a,{icon:"disc-info-new",className:"icon"}),react_default.a.createElement(Typography.a,{component:"h5",className:"title"},title),react_default.a.createElement("div",{className:"message"},children))});PageStatus_PageStatus.defaultProps={children:null};var layout_PageStatus_PageStatus=PageStatus_PageStatus;PageStatus_PageStatus.__docgenInfo={description:"",methods:[],displayName:"PageStatus",props:{children:{defaultValue:{value:"null",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/layout/PageStatus/PageStatus.js"]={name:"PageStatus",docgenInfo:PageStatus_PageStatus.__docgenInfo,path:"src/layout/PageStatus/PageStatus.js"}),__webpack_require__.d(__webpack_exports__,"a",function(){return layout_PageStatus_PageStatus})},3:function(module,__webpack_exports__,__webpack_require__){"use strict";var objectWithoutProperties=__webpack_require__(14),defineProperty=__webpack_require__(4),react=__webpack_require__(0),react_default=__webpack_require__.n(react),classnames=__webpack_require__(16),classnames_default=__webpack_require__.n(classnames),BaseStyle=__webpack_require__(6);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}var weights={bold:"bold"},availableSizes_base="base",headerComponentTypes={hero:"h1",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtext:"h5"},textComponentTypes={p:"p",span:"span"},componentTypes=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){Object(defineProperty.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}({},headerComponentTypes,{},textComponentTypes),Typography_Typography=function(_ref){var _classNames,children=_ref.children,component=_ref.component,_ref$size=_ref.size,size=void 0===_ref$size?availableSizes_base:_ref$size,classNameProp=_ref.className,weight=_ref.weight,otherProps=Object(objectWithoutProperties.a)(_ref,["children","component","size","className","weight"]),className=classnames_default()((_classNames={"wb-heading":headerComponentTypes[component]},Object(defineProperty.a)(_classNames,"wb-heading--".concat(component),headerComponentTypes[component]),Object(defineProperty.a)(_classNames,"font-size--".concat(size),textComponentTypes[component]),Object(defineProperty.a)(_classNames,"wb-strong",weights[weight]&&weight===weights.bold),_classNames),classNameProp);return react_default.a.createElement(BaseStyle.a,Object.assign({component:componentTypes[component],className:className},otherProps),children)};Typography_Typography.defaultProps={component:componentTypes.p};var layout_Typography_Typography=Typography_Typography;Typography_Typography.__docgenInfo={description:"",methods:[],displayName:"Typography",props:{component:{defaultValue:{value:"componentTypes.p",computed:!0},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/layout/Typography/Typography.js"]={name:"Typography",docgenInfo:Typography_Typography.__docgenInfo,path:"src/layout/Typography/Typography.js"}),__webpack_require__.d(__webpack_exports__,"a",function(){return layout_Typography_Typography})},32:function(module,__webpack_exports__,__webpack_require__){"use strict";var regenerator=__webpack_require__(50),regenerator_default=__webpack_require__.n(regenerator),defineProperty=__webpack_require__(4),objectWithoutProperties=__webpack_require__(14),asyncToGenerator=__webpack_require__(82);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){Object(defineProperty.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var fetchWrapper=function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark(function _callee(url){var params,_params$method,method,otherParams,_otherParams$headers,headers,resource,isError,response,_args=arguments;return regenerator_default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return params=_args.length>1&&void 0!==_args[1]?_args[1]:{},_params$method=params.method,method=void 0===_params$method?"GET":_params$method,otherParams=Object(objectWithoutProperties.a)(params,["method"]),_otherParams$headers=otherParams.headers,headers=void 0===_otherParams$headers?{}:_otherParams$headers,_context.next=5,fetch(url,_objectSpread({method:method},otherParams,{headers:_objectSpread({},headers,{"Content-Type":"application/json"})}));case 5:return resource=_context.sent,isError=!resource.ok,_context.next=9,resource.json();case 9:if(response=_context.sent,!isError){_context.next=12;break}return _context.abrupt("return",Promise.reject(response));case 12:return _context.abrupt("return",Promise.resolve(response));case 13:case"end":return _context.stop()}},_callee)}));return function(_x){return _ref.apply(this,arguments)}}(),session_storage=__webpack_require__(15),extractCountries=function(_ref){return _ref.countries},sortByCountryLegend=function(a,b){return a.countryLegend>b.countryLegend?1:-1},sortCountries=function(countries){return countries.sort(sortByCountryLegend)},countries_getCountries=function(){return fetchWrapper("".concat(Object(session_storage.a)("environment").apiURL,"/countries")).then(extractCountries).then(sortCountries)},newsletter_getNewsletterPath=function(){return"".concat(Object(session_storage.a)("environment").apiURL,"/marketing/hotels")},extractRegions=function(_ref){return _ref.regions},newsletter_getNewsletterRegions=function(){return fetchWrapper("".concat(newsletter_getNewsletterPath(),"/regions")).then(extractRegions)},newsletter_getNewsletterPreferences=function(email){return fetchWrapper("".concat(newsletter_getNewsletterPath(),"/newsletter/").concat(email))},newsletter_updateNewsletter=function(payload){return fetchWrapper("".concat(newsletter_getNewsletterPath(),"/newsletter"),{method:"POST",body:JSON.stringify(payload)})},profile_getUrl=function(email,business){return"".concat(Object(session_storage.a)("environment").apiURL,"/customers/hotels/").concat(email).concat(business?"?business=true":"")},profile_updateProfile=function(profile){var email=profile.contactDetail.email,business=profile.business,sessionId=profile.sessionId;return fetchWrapper(profile_getUrl(email,business),{method:"PUT",headers:{"session-id":sessionId,"Content-Type":"application/json"},body:JSON.stringify(profile)})},profile_deleteProfile=function(profile){var email=profile.contactDetail.email,business=profile.business,sessionId=profile.sessionId;return fetchWrapper(profile_getUrl(email,business),{method:"DELETE",headers:{"session-id":sessionId,"Content-Type":"application/json"}})},profile_getProfile=function(email,sessionId,business){return fetchWrapper(profile_getUrl(email,business),{method:"GET",headers:{"session-id":sessionId,"Content-Type":"application/json"}})},extractAddresses=function(_ref){return _ref.addresses},addressList_getAddressList=function(postCode){return fetchWrapper("".concat(Object(session_storage.a)("environment").apiURL,"/addresses/").concat(postCode)).then(extractAddresses)},validateBin=function(cardNumber){return fetchWrapper("".concat(Object(session_storage.a)("environment").apiURL,"/payment/validations/").concat(cardNumber.replace(/\s/g,"").slice(0,6)))},business_tetherLogin=function(guid){return fetchWrapper("".concat(Object(session_storage.a)("environment").apiURL,"/business/tether/login"),{method:"POST",body:JSON.stringify({guid:guid})})},business_resetMemorableWord=function(payload){return fetchWrapper("".concat(Object(session_storage.a)("environment").apiURL,"/auth/hotels/memorable-word/reset"),{method:"POST",body:JSON.stringify(payload)})};__webpack_require__.d(__webpack_exports__,"c",function(){return countries_getCountries}),__webpack_require__.d(__webpack_exports__,"e",function(){return newsletter_getNewsletterRegions}),__webpack_require__.d(__webpack_exports__,"d",function(){return newsletter_getNewsletterPreferences}),__webpack_require__.d(__webpack_exports__,"i",function(){return newsletter_updateNewsletter}),__webpack_require__.d(__webpack_exports__,"j",function(){return profile_updateProfile}),__webpack_require__.d(__webpack_exports__,"a",function(){return profile_deleteProfile}),__webpack_require__.d(__webpack_exports__,"f",function(){return profile_getProfile}),__webpack_require__.d(__webpack_exports__,"b",function(){return addressList_getAddressList}),__webpack_require__.d(__webpack_exports__,"k",function(){return validateBin}),__webpack_require__.d(__webpack_exports__,"g",function(){return business_resetMemorableWord}),__webpack_require__.d(__webpack_exports__,"h",function(){return business_tetherLogin})},391:function(module){module.exports={apiURL:"https://api-uat.whitbread.co.uk",domain:"https://www.premierinn.com",tetheringUrl:"https://develop--pi-account-tethering.netlify.com"}},392:function(module){module.exports={regions:[{id:"1",description:"UK & Ireland",active:!0},{id:"2",description:"Dubai",active:!0},{id:"3",description:"India",active:!0},{id:"4",description:"hub by Premier Inn",active:!0},{id:"5",description:"Germany",active:!0}]}},393:function(module){module.exports={countries:[{countryCode:"A",countryCodeISO:"AT",countryLegend:"Austria",passportRequired:!0,dialingCode:"+43",flagImg:"/content/dam/global/flags/Austria.png"},{countryCode:"D",countryCodeISO:"DE",countryLegend:"Germany",passportRequired:!0,dialingCode:"+49",flagImg:"/content/dam/global/flags/Germany.png"},{countryCode:"GB",countryCodeISO:"GB",countryLegend:"United Kingdom (the)",passportRequired:!1,dialingCode:"+44",flagImg:"/content/dam/global/flags/United-Kingdom.png"},{countryCode:"GR",countryCodeISO:"GR",countryLegend:"Greece",passportRequired:!0,dialingCode:"+30",flagImg:"/content/dam/global/flags/Greece.png"}]}},394:function(module){module.exports={subscribedStatus:!0,sessionId:"bO4u7MvIMhPxluVJ",firstName:"Rachelle",lastName:"Ragasa",emailAddress:"fresh@mailinator.com",countryCode:"GB",businessClient:!1,restaurantNewsletter:!1,regions:[],regionSubscriptions:[{regionId:1,subscribed:!1},{regionId:2,subscribed:!1},{regionId:3,subscribed:!1},{regionId:4,subscribed:!1},{regionId:5,subscribed:!1}]}},397:function(module,exports,__webpack_require__){__webpack_require__(398),__webpack_require__(493),module.exports=__webpack_require__(494)},40:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return MODAL_OPEN}),__webpack_require__.d(__webpack_exports__,"a",function(){return MODAL_CLOSE}),__webpack_require__.d(__webpack_exports__,"d",function(){return openModal}),__webpack_require__.d(__webpack_exports__,"c",function(){return closeModal});var MODAL_OPEN="MODAL_OPEN",MODAL_CLOSE="MODAL_CLOSE",openModal=function(content){return{type:MODAL_OPEN,content:content}},closeModal=function(){return{type:MODAL_CLOSE}}},421:function(module,exports){},494:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(48),_storybook_react_dist_client_preview__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(138),_storybook_addon_options__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(387),storybook_addon_react_docgen__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(388),react_redux__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(28),_documentation_stories_utils_layout_PaddedContainer__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(249),_documentation_stories_utils_layout_WrapperWithFonts__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(250);__webpack_require__(621);Object(_storybook_react_dist_client_preview__WEBPACK_IMPORTED_MODULE_2__.addDecorator)(function(story){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_documentation_stories_utils_layout_PaddedContainer__WEBPACK_IMPORTED_MODULE_6__.a,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_documentation_stories_utils_layout_WrapperWithFonts__WEBPACK_IMPORTED_MODULE_7__.a,null,story()))}),Object(_storybook_react_dist_client_preview__WEBPACK_IMPORTED_MODULE_2__.addDecorator)(Object(storybook_addon_react_docgen__WEBPACK_IMPORTED_MODULE_4__.withPropsTable)({propTablesExclude:[react_redux__WEBPACK_IMPORTED_MODULE_5__.Provider,_documentation_stories_utils_layout_PaddedContainer__WEBPACK_IMPORTED_MODULE_6__.a,_documentation_stories_utils_layout_WrapperWithFonts__WEBPACK_IMPORTED_MODULE_7__.a,react__WEBPACK_IMPORTED_MODULE_0__.Fragment]})),Object(_storybook_react_dist_client_preview__WEBPACK_IMPORTED_MODULE_2__.addDecorator)(Object(_storybook_addon_options__WEBPACK_IMPORTED_MODULE_3__.withOptions)({addonPanelInRight:!0}));var req=__webpack_require__(622);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.configure)(function(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(105)(module))},5:function(module,__webpack_exports__,__webpack_require__){"use strict";var defineProperty=__webpack_require__(4),react=__webpack_require__(0),react_default=__webpack_require__.n(react),classnames=__webpack_require__(16),classnames_default=__webpack_require__.n(classnames),variants={button:"btn",text:"text-btn"},colors={primary:"primary",secondary:"secondary",tertiary:"tertiary",quaternary:"quaternary",red:"red",default:"default"},Button_Button=function(_ref){var _classNames,children=_ref.children,onClick=_ref.onClick,variant=_ref.variant,type=_ref.type,color=_ref.color,href=_ref.href,fullWidth=_ref.fullWidth,disabled=_ref.disabled,classNameProp=_ref.className,cssClasses=classnames_default()("wb-".concat(variants[variant]),(_classNames={},Object(defineProperty.a)(_classNames,"wb-".concat(variants[variant],"--").concat(colors[color]),!disabled),Object(defineProperty.a)(_classNames,"wb-btn--small",variants[variant]===variants.button),Object(defineProperty.a)(_classNames,"wb-btn--full-width",fullWidth),Object(defineProperty.a)(_classNames,"wb-btn--disabled",disabled),_classNames),classNameProp),Component=href?"a":"button",componentProps={};return"a"===Component&&(componentProps.href=href),"button"===Component&&(componentProps.type=type||"button",componentProps.onClick=onClick,componentProps.disabled=disabled),react_default.a.createElement(Component,Object.assign({className:cssClasses},componentProps),children)};Button_Button.defaultProps={onClick:function(){},variant:"button",children:null,href:null,fullWidth:!1,submit:!1};var layout_Button_Button=Button_Button;Button_Button.__docgenInfo={description:"",methods:[],displayName:"Button",props:{onClick:{defaultValue:{value:"function onClick(){}",computed:!1},required:!1},variant:{defaultValue:{value:"'button'",computed:!1},required:!1},children:{defaultValue:{value:"null",computed:!1},required:!1},href:{defaultValue:{value:"null",computed:!1},required:!1},fullWidth:{defaultValue:{value:"false",computed:!1},required:!1},submit:{defaultValue:{value:"false",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/layout/Button/Button.js"]={name:"Button",docgenInfo:Button_Button.__docgenInfo,path:"src/layout/Button/Button.js"}),__webpack_require__.d(__webpack_exports__,"a",function(){return layout_Button_Button})},588:function(module,exports,__webpack_require__){var map={"./nestedObjectAssign":314,"./nestedObjectAssign.js":314};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=588},6:function(module,__webpack_exports__,__webpack_require__){"use strict";var defineProperty=__webpack_require__(4),objectWithoutProperties=__webpack_require__(14),react=__webpack_require__(0),react_default=__webpack_require__.n(react),classnames=__webpack_require__(16),classnames_default=__webpack_require__.n(classnames),margins_m="m",margins_mt="mt",margins_mr="mr",margins_mb="mb",margins_ml="ml",margins_mx="mx",margins_my="my",paddings_p="p",paddings_pt="pt",paddings_pr="pr",paddings_pb="pb",paddings_pl="pl",paddings_px="px",paddings_py="py",BaseStyle_BaseStyle=function(_ref){var _classNames,Component=_ref.component,children=_ref.children,classNameProp=_ref.className,m=_ref.m,mt=_ref.mt,mr=_ref.mr,mb=_ref.mb,ml=_ref.ml,mx=_ref.mx,my=_ref.my,p=_ref.p,pt=_ref.pt,pr=_ref.pr,pb=_ref.pb,pl=_ref.pl,px=_ref.px,py=_ref.py,attrs=Object(objectWithoutProperties.a)(_ref,["component","children","className","m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py"]),getSpacing=function(margin){return"auto"===margin&&"-".concat("auto")||margin},classes=classnames_default()(classNameProp,(_classNames={},Object(defineProperty.a)(_classNames,"".concat(margins_m).concat(m),m),Object(defineProperty.a)(_classNames,"".concat(margins_mt).concat(mt),mt),Object(defineProperty.a)(_classNames,"".concat(margins_mr).concat(getSpacing(mr)),mr),Object(defineProperty.a)(_classNames,"".concat(margins_mb).concat(mb),mb),Object(defineProperty.a)(_classNames,"".concat(margins_ml).concat(getSpacing(ml)),ml),Object(defineProperty.a)(_classNames,"".concat(margins_mx).concat(getSpacing(mx)),mx),Object(defineProperty.a)(_classNames,"".concat(margins_my).concat(my),my),Object(defineProperty.a)(_classNames,"".concat(paddings_p).concat(p),p),Object(defineProperty.a)(_classNames,"".concat(paddings_pt).concat(pt),pt),Object(defineProperty.a)(_classNames,"".concat(paddings_pr).concat(pr),pr),Object(defineProperty.a)(_classNames,"".concat(paddings_pb).concat(pb),pb),Object(defineProperty.a)(_classNames,"".concat(paddings_pl).concat(pl),pl),Object(defineProperty.a)(_classNames,"".concat(paddings_px).concat(px),px),Object(defineProperty.a)(_classNames,"".concat(paddings_py).concat(py),py),_classNames));return react_default.a.createElement(Component,Object.assign({className:classes},attrs),children)};BaseStyle_BaseStyle.defaultProps={component:"div"};var layout_BaseStyle_BaseStyle=BaseStyle_BaseStyle;BaseStyle_BaseStyle.__docgenInfo={description:"",methods:[],displayName:"BaseStyle",props:{component:{defaultValue:{value:"'div'",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/layout/BaseStyle/BaseStyle.js"]={name:"BaseStyle",docgenInfo:BaseStyle_BaseStyle.__docgenInfo,path:"src/layout/BaseStyle/BaseStyle.js"}),__webpack_require__.d(__webpack_exports__,"a",function(){return layout_BaseStyle_BaseStyle})},621:function(module,exports,__webpack_require__){},622:function(module,exports,__webpack_require__){var map={"./stories/AccountSettings.stories.js":623,"./stories/Hyperlink.stories.js":882,"./stories/Notification.stories.js":889,"./stories/PageStatus.stories.js":890,"./stories/PaymentCard.stories.js":892};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=622},623:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(48),_utils_withRedux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(175),_utils_mockApis__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(172),_src_utils_session_storage__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(15),_mocks_profile_json__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(173),_src_components_App__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(174);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Account Settings",module).addDecorator(Object(_utils_withRedux__WEBPACK_IMPORTED_MODULE_2__.a)()).addDecorator(_utils_mockApis__WEBPACK_IMPORTED_MODULE_3__.a).add("Preview",function(){return Object(_src_utils_session_storage__WEBPACK_IMPORTED_MODULE_4__.b)("email","rachelle.ragasa@gmail.com"),Object(_src_utils_session_storage__WEBPACK_IMPORTED_MODULE_4__.b)("profile",_mocks_profile_json__WEBPACK_IMPORTED_MODULE_5__),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_App__WEBPACK_IMPORTED_MODULE_6__.a,null)})}.call(this,__webpack_require__(105)(module))},624:function(module,exports,__webpack_require__){},7:function(module){module.exports={e:"userLoggedIn",d:"STAYER",c:"SELF",h:!1,i:"/gb/en/home.html",f:{INCORRECT_PASSWORD:"012"},g:"GB",j:[1,2,3,4],k:[{dictionaryKey:"mealoptions.pibreakfast",code:"11"},{dictionaryKey:"mealoptions.continentalbreakfast",code:"12"},{dictionaryKey:"mealoptions.mealdeal",code:"17"},{dictionaryKey:"mealoptions.nomeals",code:"0"}],m:{adults:[1,2],children:[0,1,2],type:[{dictionaryKey:"roomrequirements.type.double",code:"DB"},{dictionaryKey:"roomrequirements.type.single",code:"SB"},{dictionaryKey:"roomrequirements.type.twin",code:"TWIN"},{dictionaryKey:"roomrequirements.type.accessible",code:"DIS"},{dictionaryKey:"roomrequirements.type.family",code:"FAM"}],defaults:{adults:1,children:0,cotRequired:!1,type:"DB",hotelBrand:"PI"}},a:"BUSINESS",b:"HOME",l:{AC:{name:"Mastercard Credit",img:"/content/dam/global/booking/Mastercard.jpg"},AM:{name:"American Express",img:"/content/dam/global/booking/AX.jpg"},AT:{name:"Business Account",img:"/content/dam/global/booking/Business_Account.jpg"},DI:{name:"Diners Club",img:"/content/dam/global/booking/dinersclub.jpg"},EL:{name:"Electron",img:"/content/dam/global/booking/Electron_white_v.jpg"},MA:{name:"Maestro",img:"/content/dam/global/booking/maestro.jpg"},DL:{name:"Visa Debit",img:"/content/dam/global/booking/Visa_Debit.jpg"},MD:{name:"Mastercard Debit",img:"/content/dam/global/booking/MD.jpg"},VI:{name:"Visa Credit",img:"/content/dam/global/booking/VC.jpg"}}}},705:function(module,exports,__webpack_require__){},8:function(module,__webpack_exports__,__webpack_require__){"use strict";var objectWithoutProperties=__webpack_require__(14),react=__webpack_require__(0),react_default=__webpack_require__.n(react),classnames=__webpack_require__(16),classnames_default=__webpack_require__.n(classnames),Icon=__webpack_require__(176),BaseStyle=__webpack_require__(6),Typography=__webpack_require__(3),variants=(__webpack_require__(624),{warning:{className:"warning",icon:"disc-info-new"},error:{className:"error",icon:"disc-info-new"},success:{className:"success",icon:"tick"},info:{className:"info",icon:"disc-info-new"}}),Notification_Notification=function(_ref){var priority=_ref.priority,variant=_ref.variant,ariaLive=_ref.ariaLive,show=_ref.show,sticky=_ref.sticky,title=_ref.title,children=_ref.children,className=_ref.className,otherProps=Object(objectWithoutProperties.a)(_ref,["priority","variant","ariaLive","show","sticky","title","children","className"]),classes=classnames_default()("pi-notification","priority-".concat(priority),"priority-".concat(priority,"-").concat(variants[variant].className),sticky&&"sticky",className);return show&&children&&react_default.a.createElement(BaseStyle.a,Object.assign({component:"div",role:"region","aria-live":ariaLive,className:classes},otherProps),react_default.a.createElement(Icon.a,{icon:variants[variant].icon,className:"icon"}),react_default.a.createElement("div",{className:"content"},title&&react_default.a.createElement(Typography.a,{component:"span",className:"title"},title),children))};Notification_Notification.defaultProps={show:!1,sticky:!1,title:"",children:null};var layout_Notification_Notification=Notification_Notification;Notification_Notification.__docgenInfo={description:"",methods:[],displayName:"Notification",props:{show:{defaultValue:{value:"false",computed:!1},required:!1},sticky:{defaultValue:{value:"false",computed:!1},required:!1},title:{defaultValue:{value:"''",computed:!1},required:!1},children:{defaultValue:{value:"null",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/layout/Notification/Notification.js"]={name:"Notification",docgenInfo:Notification_Notification.__docgenInfo,path:"src/layout/Notification/Notification.js"}),__webpack_require__.d(__webpack_exports__,"a",function(){return layout_Notification_Notification})},882:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(48),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24),_src_layout_Hyperlink__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(143);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Hyperlink",module).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.withKnobs).add("Preview",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1",null,"Hyperlink"),["regular","primary","secondary"].map(function(variant){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{key:variant},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",{className:"mt3 border-bottom"},"Variant ".concat(variant)),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_layout_Hyperlink__WEBPACK_IMPORTED_MODULE_3__.a,{variant:variant,href:"https://www.premierinn.com/"},"Click here"))}))}).add("Hyperlink",function(){var variants=["regular","primary","secondary"],variant=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.select)("variant*",variants,variants[0]),href=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.text)("href","https://www.premierinn.com/"),children=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.text)("children (body)","Click here");return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_layout_Hyperlink__WEBPACK_IMPORTED_MODULE_3__.a,{variant:variant,href:href},children)})}.call(this,__webpack_require__(105)(module))},889:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(48),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24),_src_layout_Notification__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Notifications",module).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.withKnobs).add("Preview",function(){var children="This is the main notification text.";return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1",null,"Notification"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",{className:"mt3 border-bottom"},"Priority 1"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_layout_Notification__WEBPACK_IMPORTED_MODULE_3__.a,{ariaLive:"off",priority:1,variant:"error",title:"Random title",show:!0},children,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{className:"block mt1 error-link",href:"javacript:;"},"Retry")),[2,3,4,5].map(function(priority){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{key:priority},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",{className:"mt3 border-bottom"},"Priority ".concat(priority)),["Warning","Error","Info","Success"].map(function(variant){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{key:variant},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3",null,variant),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_layout_Notification__WEBPACK_IMPORTED_MODULE_3__.a,{ariaLive:"off",priority:priority,variant:variant.toLowerCase(),title:"Random title",show:!0},children))}))}))}).add("Notification",function(){var priorities=[1,2,3,4,5],priority=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.select)("priority*",priorities,priorities[0]),variants=["warning","error","info","success"],variant=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.select)("variant*",variants,variants[0]),ariaLiveValues=["off","polite","assertive"],ariaLive=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.select)("ariaLive*",ariaLiveValues,ariaLiveValues[0]),title=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.text)("title",""),children=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.text)("children (body)","This is the main notification text."),sticky=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.select)("sticky",[!0,!1],!1),show=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.select)("show",[!0,!1],!0);return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_layout_Notification__WEBPACK_IMPORTED_MODULE_3__.a,{ariaLive:ariaLive,priority:priority,variant:variant,title:title,sticky:sticky,show:show},children,1===priority&&react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{className:"block mt1 error-link",href:"javacript:;"},"Retry"))})}.call(this,__webpack_require__(105)(module))},890:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(48),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24),_src_layout_PageStatus__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(253);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Page Status",module).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.withKnobs).add("Preview",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1",{className:"mt4"},"Page Status"),["Warning","Error"].map(function(variant){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,{key:variant},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3",{className:"mt3"},variant),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_layout_PageStatus__WEBPACK_IMPORTED_MODULE_3__.a,{ariaLive:"off",variant:variant.toLowerCase(),title:"Error, oh dear..."},"Something went wrong when we tried to load the results."))}))}).add("PageStatus",function(){var variants=["warning","error"],variant=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.select)("variant*",variants,variants[0]),ariaLiveValues=["off","polite","assertive"],ariaLive=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.select)("ariaLive*",ariaLiveValues,ariaLiveValues[0]),title=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.text)("title","Error, oh dear..."),children=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.text)("children (body)","Something went wrong when we tried to load the results.");return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_layout_PageStatus__WEBPACK_IMPORTED_MODULE_3__.a,{ariaLive:ariaLive,variant:variant,title:title},children)})}.call(this,__webpack_require__(105)(module))},891:function(module,exports,__webpack_require__){},892:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(48),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24),_utils_withRedux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(175),_utils_mockApis__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(172),_mockedConfig_application_json__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(140),_mockedDictionary_en_json__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(141),_src_components_PaymentCard__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(142),app={};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Payment Card",module).addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.withKnobs).addDecorator(Object(_utils_withRedux__WEBPACK_IMPORTED_MODULE_3__.a)()).addDecorator(_utils_mockApis__WEBPACK_IMPORTED_MODULE_4__.a).add("With Card",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_PaymentCard__WEBPACK_IMPORTED_MODULE_7__.a,{app:app,dictionary:_mockedDictionary_en_json__WEBPACK_IMPORTED_MODULE_6__,application:_mockedConfig_application_json__WEBPACK_IMPORTED_MODULE_5__,profile:{paymentPreference:{paymentCard:{cardType:"VI",cardNumber:"************1111",expiryDate:"07/23",cardHolderName:"dwa"}}},setEditView:function(){},setSuccessMessage:function(){},updateProfileStore:function(){},setNotificationMessage:function(){}})}).add("Without Card",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_components_PaymentCard__WEBPACK_IMPORTED_MODULE_7__.a,{app:app,dictionary:_mockedDictionary_en_json__WEBPACK_IMPORTED_MODULE_6__,application:_mockedConfig_application_json__WEBPACK_IMPORTED_MODULE_5__,profile:{paymentPreference:{}},setEditView:function(){},setSuccessMessage:function(){},updateProfileStore:function(){},setNotificationMessage:function(){}})})}.call(this,__webpack_require__(105)(module))}},[[397,1,2]]]);
//# sourceMappingURL=main.773848dfbeed6e5a3acd.bundle.js.map